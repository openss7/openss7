% -*- texinfo -*- vim: ft=texinfo noautoindent nocindent nosmartindent
% =========================================================================
%
% @(#) $Id: porting.texi,v 0.9.2.10 2005/04/13 23:45:26 brian Exp $
%
% =========================================================================
%
% Copyright (C) 2001-2005  OpenSS7 Corporation <www.openss7.com>
% Copyright (C) 1997-2000  Brian F. G. Bidulock <bidulock@openss7.org>
%
% All Rights Reserved.
%
% Permission is granted to make and distribute verbatim copies of this
% manual provided the copyright notice and this permission notice are
% preserved on all copies.
%
% Permission is granted to copy and distribute modified versions of this
% manual under the conditions for verbatim copying, provided that the
% entire resulting derived work is distributed under the terms of a
% permission notice identical to this one
% 
% Since the Linux kernel and libraries are constantly changing, this
% manual page may be incorrect or out-of-date.  The author(s) assume no
% responsibility for errors or omissions, or for damages resulting from
% the use of the information contained herein.  The author(s) may not
% have taken the same level of care in the production of this manual,
% which is licensed free of charge, as they might when working
% professionally.
% 
% Formatted or processed versions of this manual, if unaccompanied by
% the source, must acknowledge the copyright and authors of this work.
%
% -------------------------------------------------------------------------
%
% U.S. GOVERNMENT RESTRICTED RIGHTS.  If you are licensing this Software
% on behalf of the U.S. Government ("Government"), the following
% provisions apply to you.  If the Software is supplied by the Department
% of Defense ("DoD"), it is classified as "Commercial Computer Software"
% under paragraph 252.227-7014 of the DoD Supplement to the Federal
% Acquisition Regulations ("DFARS") (or any successor regulations) and the
% Government is acquiring only the license rights granted herein (the
% license rights customarily provided to non-Government users).  If the
% Software is supplied to any unit or agency of the Government other than
% DoD, it is classified as "Restricted Computer Software" and the
% Government's rights in the Software are defined in paragraph 52.227-19
% of the Federal Acquisition Regulations ("FAR") (or any success
% regulations) or, in the cases of NASA, in paragraph 18.52.227-86 of the
% NASA Supplement to the FAR (or any successor regulations).
%
% =========================================================================
% 
% Commercial licensing and support of this software is available from
% OpenSS7 Corporation at a fee.  See http://www.openss7.com/
% 
% =========================================================================
%
% Last Modified $Date: 2005/04/13 23:45:26 $ by $Author: brian $
%
% =========================================================================

\input texinfo
@setfilename porting.info
@include texi/args.texi
@set MANUAL_TITLE Linux Fast-STREAMS
@set MANUAL_TYPE Porting Guide
@settitle @value{MANUAL_TITLE}

@dircategory STREAMS
@direntry
* Porting: (porting).		STREAMS Porting Guide
@end direntry

@defindex op

@include texi/args.texi
@set MANUAL_TITLE Linux Fast-STREAMS
@set MANUAL_TYPE Porting Guide

@comment The following copyright information goes at the head of each .info file.
@ifinfo
This file provides the @value{MANUAL_TYPE} for @value{MANUAL_TITLE}.

This is Edition @value{PACKAGE_VERSION}, last updated @value{PACKAGE_DATE}, of the
@cite{@value{MANUAL_TITLE} @value{MANUAL_TYPE}}, for Version @value{PACKAGE_VERSION}
Release @value{PACKAGE_RELEASE}.

Copyright @copyright{} 2001-2005  @uref{http://www.openss7.com/, OpenSS7 Corporation} @*
Copyright @copyright{} 1997-2000  @email{bidulock@@openss7.org, Brian F. G. Bidulock}

All Rights Reserved.

Permission is granted to make and distribute verbatim copies of this manual
provided the copyright notice and this permission notice are preserved on all
copies.

@ignore
Permission is granted to process this file through Tex and print the results,
provided the printed document carries copying permission notice identical to
this one except for the removal of this paragraph (this paragraph not being
relevant to the printed manual).

@end ignore
Permission is granted to copy and distribute modified versions of this manual
under the conditions for verbatim copying, provided the entire resulting
derived work is distributed under the terms of a permission notice identical
to this one.

Permission is granted to copy and distribute translations of this manual into
another language, under the above conditions for modified versions.
@end ifinfo

@include texi/args.texi
@set MANUAL_TITLE Linux Fast-STREAMS
@set MANUAL_TYPE Porting Guide

@ignore
@shorttitlepage @value{MANUAL_TITLE} @value{MANUAL_TYPE}
@end ignore
@titlepage
@titlefont{@value{MANUAL_TITLE}}
@sp 0.5
@title @value{MANUAL_TYPE}
@subtitle Version @value{PACKAGE_VERSION} Edition @value{PACKAGE_RELEASE}
@subtitle Updated @value{PACKAGE_DATE}
@sp 0.2
@subtitle Package @value{PACKAGE}-@value{VERSION}
@author Brian Bidulock <@email{bidulock@@openss7.org}> for
@sp 0.2
@author The OpenSS7 Project <@uref{http://www.openss7.org/}>

@page
@vskip 0pt plus 1filll
Copyright @copyright{} 2001-2005  OpenSS7 Corporation <@uref{http://www.openss7.com/}> @*
Copyright @copyright{} 1997-2000  Brian F. G. Bidulock <@email{bidulock@@openss7.org}> @*
All Rights Reserved. @*

@noindent
Published by OpenSS7 Corporation @*
1469 Jefferys Crescent @*
Edmonton, Alberta  T6L 6T1 @*
Canada @*

@noindent
This is texinfo edition @value{PACKAGE_RELEASE} of the @value{MANUAL_TITLE}
documentation, and is consistent with @value{PACKAGE_NAME} @value{PACKAGE_VERSION}.
This manual was developed under the @uref{http://www.openss7.org/, OpenSS7
Project} and was funded in part by
@uref{http://www.openss7.com/, OpenSS7 Corporation}.

@noindent
Permission is granted to make and distribute verbatim copies of this manual
provided the copyright notice and this permission notice are preserved on all
copies.

@noindent
Permission is granted to copy and distribute modified versions of this manual
under the conditions for verbatim copying, provided that the entire resulting
derived work is distributed under the terms of a permission notice identical
to this one.

@noindent
Permission is granted to copy and distribute translations of this manual into
another language, under the same conditions as for modified versions.

@vskip 0pt
@end titlepage
@page

@c Define an index of authors.
@defindex au

@ifnottex
@node Top
@top @value{MANUAL_TITLE} @value{MANUAL_TYPE}
@unnumbered About This Manual
This is Edition @value{PACKAGE_VERSION}, last updated @value{PACKAGE_DATE}, of @cite{The
@value{MANUAL_TITLE} @value{MANUAL_TYPE}}, for Version @value{PACKAGE_VERSION}
release @value{PACKAGE_RELEASE} of the @value{PACKAGE_TITLE} package.
@end ifnottex

@menu
* Acknowledgements::
* Overview::
* Porting::
* Appendices::

 --- The Detailed Node Listing ---

Acknowledgements

* Sponsors::                    Sponsors of Linux Fast-STREAMS
* Contributors::                Contributors to Linux Fast-STREAMS

Overview

* Introduction::                An Introduction to Linux Fast-STREAMS
* Concepts::                    STREAMS Concepts

Porting

* Porting from SVR 4.2 MP::
* Porting from AIX 5L Version 5.1::
* Porting from HP-UX 11.0i v2::
* Porting from OSF/1 1.2/Digital UNIX::
* Porting from UnixWare 7.1.3 (OpenUnix 8)::
* Porting from Solaris 9/SunOS 5.9::
* Porting from SUPER-UX::
* Porting from UXP/V::
* Porting from Linux STREAMS (LiS) 2.18.1::

Appendices

* Copying::                     Copying information for this Software
* Documentation License::       Copying information for this Manual
* Indices::                     Indices
@end menu

@c --------------------------------------------------------------------------

@iftex
@node Acknowledgements
@unnumbered Acknowledgements
@cindex credits
@end iftex
@ifnottex
@node Acknowledgements
@unnumbered Acknowledgements
@cindex credits
@end ifnottex

@menu
* Sponsors::                    Sponsors of Linux Fast-STREAMS
* Contributors::                Contributors to Linux Fast-STREAMS
@end menu

@node Sponsors
@unnumberedsec Sponsors of Linux Fast-STREAMS
@cindex sponsors

Funding for completion of Linux Fast-STREAMS was provided by:

OpenSS7 Corporation

Additional funding for The OpenSS7 Project was provided by:

@node Contributors
@unnumberedsec Contributors to Linux Fast-STREAMS
@cindex contributors

The primary contributor to Linux Fast-STREAMS is Brian F. G. Bidulock.

@node Overview
@chapter Overview of Linux Fast-STREAMS
@cindex overview
@menu
* Introduction::                An Introduction to Linux Fast-STREAMS
* Concepts::                    STREAMS Concepts
@end menu

This manual documents how to develop and port STREAMS drivers and modules for
Linux Fast-STREAMS.

@node Introduction
@section Introduction
@cpindex introduction
@menu
* Q and A::			Questions and Answers
@end menu

@node Q and A
@subsection Questions and Answers
@cpindex questions
@cpindex answers
@cpindex FAQ

@subsubsection What is STREAMS?

@subsubsection Doesn't Linux have STREAMS?

@subsubsection Why STREAMS?

@subsubsection Why Fast?

@subsubsection Why Linux?

@subsubsection Why Compatibility?

@node Concepts
@section Concepts
@cpindex concepts

@node Porting
@chapter Porting
@cindex porting

Although each of the manual pages of supported functions and structures
provides compatiblity and porting information, this document attempts to
gather together pertinent information concerning porting from various UNIX
operating system supporting STREAMS.

The porting information is organized by the operating system from which
porting is being attempted.  Note that, aside from configuration details, any
system not listed here that is based on SVR 4.2 MP or on a another of the
implementations, should start with that implementation's portability
information.

Porting information is organized into sections as follows:

@menu
* Porting from SVR 4.2 MP::
* Porting from AIX 5L Version 5.1::
* Porting from HP-UX 11.0i v2::
* Porting from OSF/1 1.2/Digital UNIX::
* Porting from UnixWare 7.1.3 (OpenUnix 8)::
* Porting from Solaris 9/SunOS 5.9::
* Porting from SUPER-UX::
* Porting from UXP/V::
* Porting from Linux STREAMS (LiS) 2.18.1::
@end menu

@section Base Functions
@cindex Base Functions

@subsection Message Functions
@cindex message functions

@ftable @asis
@item @b{adjmsg}(9)
trim bytes from the front or back of a @cite{STREAMS} message
@item @b{allocb}(9)
allocate a @cite{STREAMS} message and data block
@item @b{bufcall}(9)
install a buffer callback
@item @b{copyb}(9)
copy a @cite{STREAMS} message block
@item @b{copymsg}(9)
copy a @cite{STREAMS} message
@item @b{datamsg}(9)
tests a @cite{STREAMS} message type for data
@item @b{dupb}(9)
duplicate a @cite{STREAMS} message block
@item @b{dupmsg}(9)
duplicate a @cite{STREAMS} message
@item @b{esballoc}(9)
allocate a @cite{STREAMS} message and data block with a caller supplied data buffer
@item @b{freeb}(9)
frees a @cite{STREAMS} message block
@item @b{freemsg}(9)
frees a @cite{STREAMS} message
@item @b{linkb}(9)
link a message block to a @cite{STREAMS} message
@item @b{msgdsize}(9)
calculate the size of the data in a @cite{STREAMS} message
@item @b{msgpullup}(9)
pull up bytes in a @cite{STREAMS} message
@item @b{pcmsg}(9)
test a data block message type for priority control
@item @b{pullupmsg}(9)
pull up the bytes in a @cite{STREAMS} message
@item @b{rmvb}(9)
remove a message block from a @cite{STREAMS} message
@item @b{testb}(9)
test if a @cite{STREAMS} message can be allocated
@item @b{unbufcall}(9)
remove a @cite{STREAMS} buffer callback
@item @b{unlinkb}(9)
unlink a message block from a @cite{STREAMS} message
@end ftable

@subsection UP Queue Functions
@cindex UP queue functions

@ftable @asis
@item @b{backq}(9)
find the upstream or downstream queue
@item @b{bcanput}(9)
test flow control on a @cite{STREAMS} message queue
@item @b{canenable}(9)
test whether a @cite{STREAMS} message queue can be scheduled
@item @b{enableok}(9)
allow a @cite{STREAMS} message queue to be scheduled
@item @b{flushband}(9)
flushes band @cite{STREAMS} messages from a message queue
@item @b{flushq}(9)
flushes messages from a @cite{STREAMS} message queue
@item @b{getq}(9)
gets a message from a @cite{STREAMS} message queue
@item @b{insq}(9)
inserts a message into a @cite{STREAMS} message queue
@item @b{noenable}(9)
disable a @cite{STREAMS} message queue from being scheduled
@item @b{OTHERQ}(9)
return the other queue of a @cite{STREAMS} queue pair
@item @b{putbq}(9)
put a message back on a @cite{STREAMS} message queue
@item @b{putctl}(9)
put a control message on a @cite{STREAMS} message queue
@item @b{putctl1}(9)
put a 1 byte control message on a @cite{STREAMS} message queue
@item @b{putq}(9)
put a message on a @cite{STREAMS} message queue
@item @b{qenable}(9)
schedules a @cite{STREAMS} message queue service routine
@item @b{qreply}(9)
replys to a message from a @cite{STREAMS} message queue
@item @b{qsize}(9)
return the number of message on a queue
@item @b{RD}(9)
return the read queue of a @cite{STREAMS} queue pair
@item @b{rmvq}(9)
remove a message from a @cite{STREAMS} message queue
@item @b{SAMESTR}(9)
test for @cite{STREAMS} pipe or fifo
@item @b{WR}(9)
return the write queue of a @cite{STREAMS} queue pair
@end ftable

@subsection MP Queue Functions
@cindex MP queue functions

@ftable @asis
@item @b{bcanputnext}(9)
test flow control on a message queue
@item @b{canputnext}(9)
test flow control on a message queue
@item @b{freezestr}(9)
freeze the state of a stream queue
@item @b{put}(9)
invoke the put procedure for a @cite{STREAMS} module or driver with a @cite{STREAMS} message
@item @b{putnext}(9)
put a message on the downstream @cite{STREAMS} message queue
@item @b{putnextctl1}(9)
put a 1 byte control message on the downstream @cite{STREAMS} message queue
@item @b{putnextctl}(9)
put a control message on the downstream @cite{STREAMS} message queue
@item @b{qprocsoff}(9)
disables @cite{STREAMS} message queue processing for multi-processing
@item @b{qprocson}(9)
enables @cite{STREAMS} message queue processing for multi-processing
@item @b{strqget}(9)
gets information about a @cite{STREAMS} message queue
@item @b{strqset}(9)
sets attributes of a @cite{STREAMS} message queue
@item @b{unfreezestr}(9)
thaw the state of a stream queue
@end ftable

@subsection DDI/DKI Functions
@cindex DDI/DKI functions

@ftable @asis
@item @b{kmem_alloc}(9)
allocate kernel memory
@item @b{kmem_free}(9)
deallocates kernel memory
@item @b{kmem_zalloc}(9)
allocate and zero kernel memory
@item @b{cmn_err}(9)
print a kernel command error
@item @b{bcopy}(9)
copy byte strings
@item @b{bzero}(9)
zero a byte string
@item @b{copyin}(9)
copy user data in from user space to kernel space
@item @b{copyout}(9)
copy user data in from kernel space to user space
@item @b{delay}(9)
postpone the calling process for a number of clock ticks
@item @b{drv_getparm}(9)
driver retrieve kernel parameter
@item @b{drv_hztomsec}(9)
convert kernel tick time between microseconds or milliseconds
@item @b{drv_htztousec}(9)
convert kernel tick time between microseconds or milliseconds
@item @b{drv_msectohz}(9)
convert kernel tick time between microseconds or milliseconds
@item @b{drv_priv}(9)
check if the current process is priviledged
@item @b{drv_usectohz}(9)
convert kernel tick time between microseconds or milliseconds
@item @b{drv_usecwait}(9)
delay for a number of microseconds
@item @b{min}(9)
determine the minimum of two integers
@item @b{max}(9)
determine the maximum of two integers
@item @b{getmajor}(9)
get the internal major device number for a device
@item @b{getminor}(9)
get the extended minor device number for a device
@item @b{makedevice}(9)
create a device from a major and minor device numbers
@item @b{strlog}(9)
pass a message to the @cite{STREAMS} logger
@item @b{timeout}(9)
start a timer
@item @b{untimeout}(9)
stop a timer
@end ftable

@ftable @asis
@item @b{mknod}(9)
make block or character special files
@item @b{mount}(9)
mount and unmount filesystems
@item @b{umount}(9)
mount and unmount filesystems
@item @b{unlink}(9)
remove a file
@end ftable

@subsection Some Common Extension Functions
@cindex some common extension functions

@ftable @asis
@item @b{linkmsg}(9)
link a message block to a @cite{STREAMS} message
@item @b{putctl2}(9)
put a two byte control message on a @cite{STREAMS} message queue
@item @b{putnextctl2}(9)
put a two byte control message on the downstream @cite{STREAMS} message queue
@item @b{weldq}(9)
weld two (or four) queues together
@item @b{unweldq}(9)
unweld two (or four) queues
@end ftable

@subsection Some Internal Functions
@cindex some internal functions

@ftable @asis
@item @b{allocq}(9)
allocate a @cite{STREAMS} queue pair
@item @b{bcanget}(9)
test for message arrival on a band on a stream
@item @b{canget}(9)
test for message arrival on a stream
@item @b{freeq}(9)
deallocate a @cite{STREAMS} queue pair
@item @b{qattach}(9)
attach a module onto a @cite{STREAMS} file
@item @b{qclose}(9)
close a @cite{STREAMS} module or driver
@item @b{qdetach}(9)
detach a module from a @cite{STREAMS} file
@item @b{qopen}(9)
call a @cite{STREAMS} module or driver open routine
@item @b{setq}(9)
set sizes and procedures associated with a @cite{STREAMS} message queue
@end ftable

@subsection Some Oddball Functions
@cindex some oddball functions

@ftable @asis
@item @b{appq}(9)
append one @cite{STREAMS} message after another
@item @b{esbbcall}(9)
install a buffer callback for an extended @cite{STREAMS} message block
@item @b{isdatablk}(9)
test a @cite{STREAMS} data block for data type
@item @b{isdatamsg}(9)
test a @cite{STREAMS} data block for data type
@item @b{kmem_zalloc_node}(9)
@item @b{msgsize}(9)
calculate the size of the message blocks in a @cite{STREAMS} message
@item @b{qcountstrm}(9)
add all counts on all @cite{STREAMS} message queues in a stream
@item @b{xmsgsize}(9)
calculate the size of message blocks in a @cite{STREAMS} message
@end ftable


@page
@node Porting from SVR 4.2 MP
@section Porting from SVR 4.2 MP
@cindex Porting from SVR 4.2 MP

This section captures portability information for SVR 4.2 MP based systems.
If the operating system from which you are porting more closely fits one of
the other portability sections, please see that section.

@subsection Differences from SVR 4.2 MP
@subsection Commonalities with SVR 4.2 MP
@subsection Compatibility functions for SVR 4.2 MP

@ftable @asis
@item @b{ATOMIC_INT_ADD}(9)
add an integer value to an atomic integer
@item @b{ATOMIC_INT_ALLOC}(9)
allocate and initalize an atomic integer
@item @b{ATOMIC_INT_DEALLOC}(9)
deallocate an atomic integer
@item @b{ATOMIC_INT_DECR}(9)
decrement and test an atomic integer
@item @b{ATOMIC_INT_INCR}(9)
increment an atomic integer
@item @b{ATOMIC_INT_INIT}(9)
initialize an atomic integer
@item @b{ATOMIC_INT_READ}(9)
read an atomic integer
@item @b{ATOMIC_INT_SUB}(9)
subtract and integer value from an atomic integer
@item @b{ATOMIC_INT_WRITE}(9)
write an integer value to an atomic integer
@item @b{itimeout}(9)
perform a timeout at an interrupt level
@item @b{lbolt}(9)
time in ticks since reboot
@item @b{LOCK}(9)
lock a basic lock
@item @b{LOCK_ALLOC}(9)
allocate a basic lock
@item @b{LOCK_DEALLOC}(9)
deallocate a basic lock
@item @b{LOCK_OWNED}(9)
determine whether a basic lock is head by the caller
@item @b{MPSTR_QLOCK}(9)
release a queue from exclusive access
@item @b{MPSTR_QRELE}(9)
acquire a queue for exclusive access
@item @b{MPSTR_STPLOCK}(9)
acquire a stream head for exclusive access
@item @b{MPSTR_STPRELE}(9)
release a stream head from exclusive access
@item @b{major}(9)
get the internal major number of a device
@item @b{makedev}(9)
make a device number from internal major and minor device numbers
@item @b{minor}(9)
get the internal minor number of a device
@item @b{RW_ALLOC}(9)
allocate and initialize a read/write lock
@item @b{RW_DEALLOC}(9)
deallocate a read/write lock
@item @b{RW_RDLOCK}(9)
acquire a read/write lock in read mode
@item @b{RW_TRYRDLOCK}(9)
attempt to acquire a read/write lock in read mode
@item @b{RW_TRYWRLOCK}(9)
attempt to acquire a read/write lock in write mode
@item @b{RW_UNLOCK}(9)
release a read/write lock
@item @b{RW_WRLOCK}(9)
acquire a read/write lock in write mode
@item @b{sleep}(9)
put a process to sleep
@item @b{SLEEP_ALLOC}(9)
allocate a sleep lock
@item @b{SLEEP_DEALLOC}(9)
deallocate a sleep lock
@item @b{SLEEP_LOCK}(9)
acquire a sleep lock
@item @b{SLEEP_LOCKAVAIL}(9)
determine whether a sleep lock is available
@item @b{SLEEP_LOCKOWNED}(9)
determine whether a sleep lock is held by the caller
@item @b{SLEEP_LOCK_SIG}(9)
acquire a sleep lock
@item @b{SLEEP_TRYLOCK}(9)
attempt to acquire a sleep lock
@item @b{SLEEP_UNLOCK}(9)
release a sleep lock
@item @b{spl0}(9)
set priority level 0
@item @b{spl1}(9)
set priority level 1
@item @b{spl2}(9)
set priority level 2
@item @b{spl3}(9)
set priority level 3
@item @b{spl4}(9)
set priority level 4
@item @b{spl5}(9)
set priority level 5
@item @b{spl6}(9)
set priority level 6
@item @b{spl7}(9)
set priority level 7
@item @b{spl}(9)
set priority level
@item @b{splx}(9)
set priority level x
@item @b{SV_ALLOC}(9)
allocate a basic condition variable
@item @b{SV_BROADCAST}(9)
broadcast a basic condition variable
@item @b{SV_DEALLOC}(9)
deallocate a basic condition variable
@item @b{SV_SIGNAL}(9)
signal a basic condition variable
@item @b{SV_WAIT}(9)
wait on a basic condition variable
@item @b{SV_WAIT_SIG}(9)
interruptible wait on a basic condition variable
@item @b{TRYLOCK}(9)
try to lock a basic lock
@item @b{UNLOCK}(9)
unlock a basic lock
@item @b{vtop}(9)
convert virtual to physical address
@item @b{wakeup}(9)
wake a process
@end ftable

@subsection Configuration ala SVR 4.2 MP

@page
@node Porting from AIX 5L Version 5.1
@section Porting from AIX 5L Version 5.1
@cindex Porting from AIX 5L Version 5.1

@subsection Differences from AIX 5L Version 5.1
@subsection Commonalities with AIX 5L Version 5.1
@subsection Compatibility Functions for AIX 5L Version 5.1

@ftable @asis
@item @b{putctl2}(9)
put a 2 byte control message on a @cite{STREAMS}
@item @b{splstr}(9)
set or restore priority levels
@item @b{splx}(9)
set or restore priority levels
@item @b{unweldq}(9)
unweld two pairs of streams queues
@item @b{weldq}(9)
weld together two paris of streams queues
@end ftable

@ftable @asis
@item @b{mi_bufcall}(9)
reliable alternative to @b{buffcall}(9)
@item @b{mi_close_comm}(9)
@cite{STREAMS} common minor device close utility
@item @b{mi_next_ptr}(9)
@cite{STREAMS} minor device list traversal
@item @b{mi_open_comm}(9)
@cite{STREAMS} common minor device open utility
@item @b{mi_prev_ptr}(9)
@cite{STREAMS} minor device list traversal
@item @b{str_install}(9)
install a @cite{STREAMS} module or driver
@item @b{wantio}(9)
perform direct I/O from a @cite{STREAMS} driver
@item @b{wantmsg}(9)
provide a filter of wanted messages from a @cite{STREAMS} module
@end ftable

@subsection Configuration ala AIX 5L Version 5.1

@page
@node Porting from HP-UX 11.0i v2
@section Porting from HP-UX 11.0i v2
@cindex Porting from HP-UX 11.0i v2

@subsection Differences from HP-UX 11.0i v2
@subsection Commonalities with HP-UX 11.0i v2

@subsection Compatibility Functions for HP-UX 11.0i v2

@ftable @asis
@item @b{putctl2}(9)
put a 2 byte control message on a @cite{STREAMS} message queue
@item @b{putnextctl2}(9)
put a 2 byte control message on the downstream @cite{STREAMS} message queue
@item @b{unweldq}(9)
unweld two pairs of streams queues
@item @b{weldq}(9)
weld together two paris of streams queues
@end ftable

@ftable @asis
@item @b{str_install}(9)
install a @cite{STREAMS} module or driver
@item @b{str_uninstall}(9)
uninstall a @cite{STREAMS} module or driver
@item @b{streams_get_sleep_lock}(9)
provide access to the global sleep lock
@item @b{streams_put}(9)
invoke the put procedure for a @cite{STREAMS} module or driver with a @cite{STREAMS} message
@end ftable

@subsection Configuration ala HP-UX 11.0i v2

@page
@node Porting from OSF/1 1.2/Digital UNIX
@section Porting from OSF/1 1.2/Digital UNIX
@cindex Porting from OSF/1 1.2/Digital UNIX

@subsection Differences from OSF/1 1.2/Digial UNIX
@subsection Commonalities with OSF/1 1.2/Digial UNIX

@subsection Compatibility Functions for OSF/1 1.2/Digial UNIX

@ftable @asis
@item @b{unweldq}(9)
unweld two pairs of streams queues
@item @b{weldq}(9)
weld together two paris of streams queues
@end ftable

@ftable @asis
@item @b{lbolt}(9)
time in ticks since reboot
@item @b{puthere}(9)
invoke the put procedure for a @cite{STREAMS} module or driver with a @cite{STREAMS} message
@item @b{streams_close_comm}(9)
common minor device close utility
@item @b{streams_open_comm}(9)
common minor device open utility
@item @b{streams_open_ocomm}(9)
common minor device open utility
@item @b{strmod_add}(9)
add a @cite{STREAMS} module
@item @b{strmod_del}(9)
delete a @cite{STREAMS} module or driver from the kernel
@item @b{time}(9)
(undoc)
@end ftable

@subsection Configuration ala OSF/1 1.2/Digial UNIX

@page
@node Porting from UnixWare 7.1.3 (OpenUnix 8)
@section Porting from UnixWare 7.1.3 (OpenUnix 8)
@cindex Porting from UnixWare 7.1.3 (OpenUnix 8)

@subsection Differences from UnixWare 7.1.3 (OpenUnix 8)
@subsection Commonalities with UnixWare 7.1.3 (OpenUnix 8)

@subsection Compatibility Functions for UnixWare 7.1.3 (OpenUnix 8)

The following compatibility functions are in addition to all SVR 4.2
compatibility functions.

@ftable @asis
@end ftable

@ftable @asis
@item @b{allocb_physreq}(9)
allocate a @cite{STREAMS} message and data block
@item @b{emajor}(9)
get the external (real) majore device number from the device number
@item @b{eminor}(9)
get the external extended minor device number from the device number
@item @b{etoimajor}(9)
convert an external major device number to an internal major device number
@item @b{getemajor}(9)
get the external (real) majore device number
@item @b{geteminor}(9)
get the external minor device number
@item @b{itoemajor}(9)
convert an internal major device number to an external major device number
@item @b{msgphysreq}(9)
cause a message block to meet physical requirements
@item @b{msgpullup_physreq}(9)
pull up bytes in a @cite{STREAMS} message
@item @b{msgscgth}(9)
(undoc)
@item @b{strioccall}(9)
(undoc)
@end ftable

@subsection Configuration ala UnixWare 7.1.3 (OpenUnix 8)

@page
@node Porting from Solaris 9/SunOS 5.9
@section Porting from Solaris 9/SunOS 5.9
@cindex Porting from Solaris 9/SunOS 5.9

@subsection Differences from Solaris 9/SunOS 5.9
@subsection Commonalities with Solaris 9/SunOS 5.9

@subsection Compatibility Functions for Solaris 9/SunOS 5.9

@ftable @asis
@item @b{_fini}(9)
@item @b{_info}(9)
@item @b{_init}(9)
@item @b{attach}(9)
attach a device to the system or resume a suspended device
@item @b{ddi_create_minor_node}(9)
create a minor node for this device
@item @b{ddi_driver_major}(9)
find the major device number associated with a driver
@item @b{ddi_driver_name}(9)
return normalized driver name
@item @b{ddi_get_cred}(9)
get a reference to the credentials of the current user
@item @b{ddi_getiminor}(9)

@item @b{ddi_get_instance}(9)
get device instance number
@item @b{ddi_get_lbolt}(9)
get the current value of the system tick clock
@item @b{ddi_get_pid}(9)

@item @b{ddi_get_soft_state}(9)

@item @b{ddi_get_time}(9)
get the current time in seconds since the epoch
@item @b{ddi_remove_minor_node}(9)
remove a minor node for a device
@item @b{ddi_removing_power}(9)

@item @b{ddi_soft_state}(9)

@item @b{ddi_soft_state_fini}(9)

@item @b{ddi_soft_state_free}(9)

@item @b{ddi_soft_state_init}(9)

@item @b{ddi_soft_state_zalloc}(9)

@item @b{ddi_umem_alloc}(9)
allocate page aligned kernel memory
@item @b{ddi_umem_free}(9)

@item @b{detach}(9)
detach a device from the system or suspend a device
@item @b{getinfo}(9)

@item @b{identify}(9)
determine if a driver is associated with a device
@item @b{install_driver}(9)
install a device driver
@item @b{mod_info}(9)
provides information on a loadable kernel module to the @cite{STREAMS} executive
@item @b{mod_install}(9)
installs a loadable kernel module in the @cite{STREAMS} executive
@item @b{mod_remove}(9)
removes a loadable module from the @cite{STREAMS} executive
@item @b{power}(9)
power a device attached to the system
@item @b{probe}(9)

@item @b{qbufcall}(9)
install a buffer callback
@item @b{qtimeout}(9)
start a timer associated with a queue
@item @b{queclass}(9)

@item @b{qunbufcall}(9)

@item @b{quntimeout}(9)

@item @b{qwait}(9)
wait for a queue message
@item @b{qwait_sig}(9)
wait for a queue message or signal
@item @b{qwriter}(9)

@end ftable

@subsection Configuration ala Solaris 9/SunOS 5.9

@page
@node Porting from SUPER-UX
@section Porting from SUPER-UX
@cindex Porting from SUPER-UX

@subsection Differences from SUPER-UX
@subsection Commonalities with SUPER-UX

@subsection Compatibility Functions for SUPER-UX

@ftable @asis
@item @b{lbolt}(9)
time in ticks since reboot
@end ftable

@subsection Configuration ala SUPER-UX

@page
@node Porting from UXP/V
@section Porting from UXP/V
@cindex Porting from UXP/V

@subsection Differences from UXP/V
@subsection Commonalities with UXP/V
@subsection Configuration ala UXP/V

@page
@node Porting from Linux STREAMS (LiS) 2.18.1
@section Porting from Linux STREAMS (LiS) 2.18.1
@cindex Porting from Linux STREAMS (LiS) 2.18.1

@subsection Differences from LiS 2.18.1
@subsection Commonalities with LiS 2.18.1

@subsection Compatibility Functions for LiS 2.18.1

@ftable @asis
@item @b{lis_appq}(9)
append one @cite{STREAMS} message after another
@item @b{lis_date}(9)
@item @b{lis_esbbcall}(9)
install a buffer callback for an extended @cite{STREAMS} message block
@item @b{lis_find_strdev}(9)
@item @b{lis_mknod}(9)
make block or character special files
@item @b{lis_mount}(9)
mount a file system
@item @b{lis_OTHER}(9)
return the other queue of a @cite{STREAMS} queue pair
@item @b{lis_register_strdev}(9)
register a @cite{STREAMS} device
@item @b{lis_register_strmod}(9)
register a @cite{STREAMS} module
@item @b{lis_umount2}(9)
unmount a file system
@item @b{lis_umount}(9)
unmount a file system
@item @b{lis_unlink}(9)
remove a file
@item @b{lis_unregister_strdev}(9)
unregister a @cite{STREAMS} device
@item @b{lis_unregsiter_strmod}(9)
unregister a @cite{STREAMS} module
@item @b{lis_version}(9)

@item @b{lis_xmsgsize}(9)
calculate the size of message blocks in a @cite{STREAMS} message
@end ftable

@subsection Configuration ala LiS 2.18.1

@node Appendices
@appendix Appendices
@menu
* Copying::                     Copying information for this Software
* Documentation License::       Copying information for this Manual
* Indices::                     Indices
@end menu

@node Copying
@unnumbered Copying
@include texi/gpl.texi

@node Documentation License
@unnumbered Documentation License
@include texi/fdl.texi

@node Indices
@unnumbered Indices
@menu
* Concept Index::               Concept Index
* Type Index::                  Type Index
* Function Index::              Function Index
* Variable Index::              Variable Index
* File Index::                  File Index
@end menu

@node Concept Index
@unnumbered Concept Index

@printindex cp

@node Type Index
@unnumbered Type Index

@printindex tp

@node Function Index
@unnumbered Function and Macro Index

@printindex fn

@node Variable Index
@unnumbered Variable and Constant Macro Index

@printindex vr

@node File Index
@unnumbered Program and File Index

@printindex pg

@page
@shortcontents
@page
@contents
@bye

