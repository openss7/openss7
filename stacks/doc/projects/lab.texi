% -*- texinfo -*- vim: ft=texinfo
% vim: ft=texinfo nosmartindent nocindent noautoindent tw=100
% =========================================================================
%
% @(#) $Id: lab.texi,v 0.9.2.9 2008-04-25 11:50:46 brian Exp $
%
% =========================================================================
%
% Copyright (c) 2001-2006  OpenSS7 Corporation <http://www.openss7.com/>
%
% All Rights Reserved.
%
% Permission is granted to make and distribute verbatim copies of this
% manual provided the copyright notice and this permission notice are
% preserved on all copies.
%
% Permission is granted to copy and distribute modified versions of this
% manual under the conditions for verbatim copying, provided that the
% entire resulting derived work is distributed under the terms of a
% permission notice identical to this one
% 
% Since the Linux kernel and libraries are constantly changing, this
% manual page may be incorrect or out-of-date.  The author(s) assume no
% responsibility for errors or omissions, or for damages resulting from
% the use of the information contained herein.  The author(s) may not
% have taken the same level of care in the production of this manual,
% which is licensed free of charge, as they might when working
% professionally.
% 
% Formatted or processed versions of this manual, if unaccompanied by
% the source, must acknowledge the copyright and authors of this work.
%
% -------------------------------------------------------------------------
%
% U.S. GOVERNMENT RESTRICTED RIGHTS.  If you are licensing this Software
% on behalf of the U.S. Government ("Government"), the following
% provisions apply to you.  If the Software is supplied by the Department
% of Defense ("DoD"), it is classified as "Commercial Computer Software"
% under paragraph 252.227-7014 of the DoD Supplement to the Federal
% Acquisition Regulations ("DFARS") (or any successor regulations) and the
% Government is acquiring only the license rights granted herein (the
% license rights customarily provided to non-Government users).  If the
% Software is supplied to any unit or agency of the Government other than
% DoD, it is classified as "Restricted Computer Software" and the
% Government's rights in the Software are defined in paragraph 52.227-19
% of the Federal Acquisition Regulations ("FAR") (or any successor
% regulations) or, in the cases of NASA, in paragraph 18.52.227-86 of the
% NASA Supplement to the FAR (or any successor regulations).
%
% =========================================================================
% 
% Commercial licensing and support of this software is available from
% OpenSS7 Corporation at a fee.  See http://www.openss7.com/
% 
% =========================================================================
%
% Last Modified $Date: 2008-04-25 11:50:46 $ by $Author: brian $
%
% =========================================================================
%
% $Log: lab.texi,v $
% Revision 0.9.2.9  2008-04-25 11:50:46  brian
% - updates to AGPLv3
%
% Revision 0.9.2.8  2007/08/14 12:16:56  brian
% - GPLv3 header updates
%
% Revision 0.9.2.7  2006/08/26 09:16:54  brian
% - better release file generation
%
% Revision 0.9.2.6  2006/08/22 12:44:10  brian
% - documentation updates
%
% Revision 0.9.2.5  2006/05/01 14:35:57  brian
% - spelling corrections
%
% Revision 0.9.2.4  2006/05/01 14:19:22  brian
% - updating LAB document
%
% Revision 0.9.2.3  2006/04/30 15:26:27  brian
% - updated LAB document
%
% Revision 0.9.2.2  2006/04/30 06:59:46  brian
% - updating document
%
% Revision 0.9.2.1  2006/04/29 21:30:19  brian
% - added UNT lab project documentation
%
% =========================================================================
\input texinfo @c -*-texinfo-*-
@c vim: ft=texinfo nosmartindent nocindent noautoindent tw=100
@c %**start of header
@setfilename lab.info
@include texi/args.texi
@set MANUAL_TITLE SS7/SIGTRAN/VoIP Security Network
@set MANUAL_TYPE Preliminary Design Document
@settitle @value{MANUAL_TITLE}
@c %**end of header

@dircategory OpenSS7
@direntry
* LAB: (lab).			SS7/SIGTRAN/VoIP Security Network
@end direntry

@include texi/args.texi
@set MANUAL_TITLE SS7/SIGTRAN/VoIP Security Network
@set MANUAL_TYPE Preliminary Design Document

@comment The following copyright information goes at the head of each .info file.
@ifinfo
This file documents the OpenSS7 Home Location Register.

This is Edition @value{PACKAGE_VERSION}, last updated @value{PACKAGE_DATE}, for
@value{PACKAGE_TITLE} version @value{PACKAGE_VERSION} release @value{PACKAGE_RELEASE}.

Copyright @copyright{} 2001-2006  @uref{http://www.openss7.com/, OpenSS7 Corporation} @*
Copyright @copyright{} 1997-2000  @email{bidulock@@openss7.org, Brian F. G. Bidulock}

All Rights Reserved.

Permission to use, copy and distribute this documentation without modification, for any purpose and
without fee or royalty is hereby granted, provided that both the above copyright notice and this
permission notice appears in all copies and that the name of OpenSS7 Corporation not be used in
advertising or publicity pertaining to distribution of this documentation or its contents without
specific, written prior permission.  OpenSS7 Corporation makes no representation about the
suitability of this documentation for any purpose.  It is provided ``as is'' without express or
implied warranty.

@ignore
Permission is granted to process this file through Tex and print the results, provided the printed
document carries copying permission notice identical to this one except for the removal of this
paragraph (this paragraph not being relevant to the printed manual).

@end ignore
OpenSS7 Corporation disclaims all warranties with regard to this documentation including all implied
warranties of merchantability, fitness for a particular purpose, non-infringement, or title; that
the contents of the document are suitable for any purpose, or that the implementation of such
contents will not infringe on any third party patents, copyrights, trademarks or other rights..  In
no event shall OpenSS7 Corporation be liable for any direct, indirect, special or consequential
damages or any damages whatsoever resulting from loss of use, data or profits, whether in an action
of contract, negligence or other tortious action, arising out of or in connection with any use of
this document or the performance or implementation of the contents thereof.

OpenSS7 Corporation reserves the right to revise this software and documentation for any reason,
including but not limited to, conformity with standards promulgated by various agencies, utilization
of advances in the state of the technical arts, or the reflection of changes in the design of any
techniques, or procedures embodied, described, or referred to herein.  OpenSS7 Corporation is under
no obligation to provide any feature listed herein.
@end ifinfo

@include texi/args.texi
@set MANUAL_TITLE SS7/SIGTRAN/VoIP Security Network
@set MANUAL_TYPE Preliminary Design Document

@ignore
@shorttitlepage @value{MANUAL_TITLE} @value{MANUAL_TYPE}
@end ignore
@titlepage
@titlefont{@value{MANUAL_TITLE}}
@sp 0.5
@title @value{MANUAL_TYPE}
@subtitle Version @value{PACKAGE_VERSION} Edition @value{PACKAGE_RELEASE}
@subtitle Updated @value{PACKAGE_DATE}
@sp 0.2
@subtitle Distributed with Package @value{PACKAGE}-@value{VERSION}
@sp 2
@subtitle Copyright @copyright{} 2006  OpenSS7 Corporation
@subtitle All Rights Reserved.
@sp 4
@quotation
@subheading Abstract
This document provides a High-Level Design and Project Proposal for a SS7/SIGTRAN/VoIP Security Network
and laboratory experiment configuration.
@end quotation
@author Brian Bidulock <@email{bidulock@@openss7.org}> for
@sp 0.2
@author The OpenSS7 Project <@uref{http://www.openss7.org/}>

@page
@vskip 0pt plus 1filll
@subsubheading Published by:
@noindent
@uref{http://www.openss7.com/,OpenSS7 Corporation} @*
1469 Jefferys Crescent @*
Edmonton, Alberta  T6L 6T1 @*
Canada @*

@noindent
Copyright @copyright{} 2001-2006  @uref{http://www.openss7.com/, OpenSS7 Corporation} @*
Copyright @copyright{} 1997-2000  @email{bidulock@@openss7.org, Brian F. G. Bidulock}

@noindent
All Rights Reserved.

@sp 1

@noindent
Permission to use, copy and distribute this documentation without modification, for any purpose and
without fee or royalty is hereby granted, provided that both the above copyright notice and this
permission notice appears in all copies and that the name of OpenSS7 Corporation not be used in
advertising or publicity pertaining to distribution of this documentation or its contents without
specific, written prior permission.  OpenSS7 Corporation makes no representation about the
suitability of this documentation for any purpose.  It is provided ``as is'' without express or
implied warranty.

@subsubheading Notice:

@noindent
@b{OpenSS7 Corporation disclaims all warranties with regard to this documentation including all
implied warranties of merchantability, fitness for a particular purpose, non-infringement, or title;
that the contents of the document are suitable for any purpose, or that the implementation of such
contents will not infringe on any third party patents, copyrights, trademarks or other rights..  In
no event shall OpenSS7 Corporation be liable for any direct, indirect, special or consequential
damages or any damages whatsoever resulting from loss of use, data or profits, whether in an action
of contract, negligence or other tortious action, arising out of or in connection with any use of
this document or the performance or implementation of the contents thereof.}

@sp 1

@noindent
OpenSS7 Corporation reserves the right to revise this software and documentation for any reason,
including but not limited to, conformity with standards promulgated by various agencies, utilization
of advances in the state of the technical arts, or the reflection of changes in the design of any
techniques, or procedures embodied, described, or referred to herein.  OpenSS7 Corporation is under
no obligation to provide any feature listed herein.

@vskip 0pt
@end titlepage
@iftex
@headings off
@everyheading @thistitle @| @thisfile @| @thischaptername
@evenheading @thischapter @| @| @thisfile
@oddheading @thistitle @| @| @thischaptername
@everyfooting Version @value{PACKAGE_VERSION} Ed. @value{PACKAGE_RELEASE} @| @value{PACKAGE_DATE} @| @thispage
@evenfooting @thispage @| @| Version @value{PACKAGE_VERSION} Ed.  @value{PACKAGE_RELEASE}
@oddfooting @value{PACKAGE_DATE} @| @| @thispage
@end iftex
@page

@include texi/macros.texi
@include texi/versions.texi

@ifnottex
@node Top
@top SS7/SIGTRAN/VoIP Security Network
@end ifnottex

@menu
* Executive Overview::
* Preface::
* Introduction::
* System Requirements::
* Network Configuration::
* Instrumentation::
* Node Configuration::
* Hardware Specification::
* List of Figures::
* List of Tables::
* Index::
@end menu

@node Executive Overview
@unnumbered Executive Overview

This document provides a High Level Design and development proposal for a SS7/SIGTRAN/VoIP Security
Network configuration for experimentation with signalling system security.  The initial and primary
purpose of this equipment is to perform high-volume load testing and security analysis in the
laboratory environment.  As such, the data sets that are used to populate the LAB can be constrained
to a degree permitting high-performance from a small footprint, open source software and commodity
hardware solution.

@subsubheading The OpenSS7 Project

The @uref{http://www.openss7.org/, OpenSS7 Project} is an open source software project that has
developed many protocol components within the SS7, SIGTRAN, ISDN and VoIP protocol stacks.
Intellectual property rights for the OpenSS7 Project are held by @uref{http://www.openss7.com/,
OpenSS7 Corporation}.  All OpenSS7 Project software is eventually licensed under the GNU Affero General Public
License.  OpenSS7 Corporation also provide commercial licensing of OpenSS7 Project
software under terms less restrictive than the AGPL.

@subsubheading SS7/SIGTRAN/VoIP Security Network

OpenSS7 can provide SS7/SIGTRAN/VoIP Security Network capabilities in a high-performance, low-cost,
small-footprint platform leveraging the GNU/Linux operating system distributions and tools, and
utilizing low-cost commodity hardware.

@subsubheading Open Source Software

The OpenSS7 Project leverages the widespread use of GNU/Linux operation systems, distributions, and
FSF tools such as @samp{autoconf} and @dfn{RPM}.  For example, this document was formatted for PDF,
HTML, info and plain text using the GNU @dfn{texinfo} system, @samp{autoconf}, and the @TeX{}
formatting system.

The open source model avoids proprietary lock-in and permits in-house or outsourced development.
All source code is available for use and modification by the end customer.  All build tools,
documentation and associated resources are generally available.  The availability of the source code
and complete documentation eases problem resolution and can offer upgrades and fixes even in advance
of client problem reports.  

@subsubheading Commodity Hardware

By best utilizing commodity PC or standardized CompactPCI hardware, OpenSS7 makes available the
highest performance platforms available on the market at back-to-school prices.  When carrier-grade
is not essential, 3GHz Pentium class servers in hardened rack mount chassis can be used at a
fraction of the cost, and yet outperform, other solutions.  Where carrier-grade is necessary,
embedded Linux on standardized CompactPCI NEBS compliant chassis make for a higher cost, but more
reliable alternative.

@subsubheading Rapid Development

The OpenSS7 Project has already developed protocol components completing the SS7 and SIGTRAN
signalling stacks including MTP Level 2 and Level 3, ISUP, SCCP, TCAP; and SCTP, M2PA, M2UA, M3UA,
SUA and TUA.  Development of an SS7/SIGTRAN/VoIP Security Network to meet laboratory experimentation
needs only the integration of load generating and failed call detection.

@subsubheading An Evolving Solution

The OpenSS7 Project is evolving to support more protocol stacks including ISDN and VoIP.  Support
for an ever expanding capability is demonstrated by the additional options available.

@subsubheading Conclusions

In summary, a high-performance platform for testing the security of SS7/SIGTRAN/VoIP platforms in
the laboratory is an excellent application of the OpenSS7 SS7, SIGTRAN and VoIP stacks and can be
provided at a affordable price on short time-lines, while offering an evolution path for future test
or deployment applications.

@sp 4

@flushright
@email{bidulock@@openss7.org, Brian Bidulock}
The OpenSS7 Project
@end flushright

@node Preface
@unnumbered Preface

@section Document Information
@c @cindex Document information

@subsection Abstract
@c @cindex Document abstract

This document provides a High-Level Design and Project Proposal for an SS7/SIGTRAN/VoIP Security
Network setup.

@subsection Objective
@c @cindex Document objective

The objective of this document is to provide a High-Level Design and Project Proposal for the
development of a low cost, high-performance, SS7/SIGTRAN/VoIP Security Network using OpenSS7 SS7
stack components, software, and compatible systems and hardware.

@subsection Intent
@c @cindex Document intent

The intent of this document is to act as a High-Level Design and Proposal for an OpenSS7 project for
a SS7/SIGTRAN/VoIP Security Network platform.  As a High-Level Design and Proposal, this document
discusses components and systems which are not necessarily complete.
@uref{http://www.openss7.com/,OpenSS7 Corporation} is under no obligation to provide any software,
system or feature listed herein.

@subsection Audience
@c @cindex Document audience

This document is intended for a technical audience.
@c The reader should be familiar with most ETSI and 3GPP specifications regarding GSM and UMTS.  In
@c addition, the reader should be familiar with ANSI-41 and North American Digital Cellular.
Because much of the focus of an SS7/SIGTRAN/VoIP Security Network is on SS7 signalling, the reader
should also be familiar with ITU-T, ETSI and ANSI standards regarding Signalling System No. 7.

@subsection Revisions
@c @cindex Document revisions

Take care that you are working with a current version of this document: you will not be notified of
updates.  To ensure that you are working with a current version, contact the
@uref{mailto:bidulock@@openss7.org,Author}, or check @uref{http://www.openss7.org/,The OpenSS7
Project} website for a current version.

@ignore
@subsubsection Version Control

@smallexample

$Log: lab.texi,v $
Revision 0.9.2.9  2008-04-25 11:50:46  brian
- updates to AGPLv3

Revision 0.9.2.8  2007/08/14 12:16:56  brian
- GPLv3 header updates

Revision 0.9.2.7  2006/08/26 09:16:54  brian
- better release file generation

Revision 0.9.2.6  2006/08/22 12:44:10  brian
- documentation updates

Revision 0.9.2.5  2006/05/01 14:35:57  brian
- spelling corrections

Revision 0.9.2.4  2006/05/01 14:19:22  brian
- updating LAB document

Revision 0.9.2.3  2006/04/30 15:26:27  brian
- updated LAB document

Revision 0.9.2.2  2006/04/30 06:59:46  brian
- updating document

Revision 0.9.2.1  2006/04/29 21:30:19  brian
- added UNT lab project documentation


@end smallexample
@end ignore

@subsubsection ISO 9000 Compliance

Only the @TeX{}, texinfo, or roff source for this document is controlled.  An opaque (printed or
postscript) version of this document is an @strong{UNCONTROLLED VERSION}.

@subsection Disclaimer
@c @cindex Document disclaimer

@noindent
OpenSS7 Corporation disclaims all warranties with regard to this documentation including all implied
warranties of merchantability, fitness for a particular purpose, non-infringement, or title; that
the contents of the document are suitable for any purpose, or that the implementation of such
contents will not infringe on any third party patents, copyrights, trademarks or other rights..  In
no event shall OpenSS7 Corporation be liable for any direct, indirect, special or consequential
damages or any damages whatsoever resulting from loss of use, data or profits, whether in an action
of contract, negligence or other tortious action, arising out of or in connection with any use of
this document or the performance or implementation of the contents thereof.

@noindent
OpenSS7 Corporation reserves the right to revise this software and documentation for any reason,
including but not limited to, conformity with standards promulgated by various agencies, utilization
of advances in the state of the technical arts, or the reflection of changes in the design of any
techniques, or procedures embodied, described, or referred to herein.  OpenSS7 Corporation is under
no obligation to provide any feature listed herein.

@section Document Organization
@c @cindex Document organization

This document is organized as follows:

@ifnottex
@menu
* Introduction::
* System Requirements::
* Network Configuration::
* Instrumentation::
* Node Configuration::
* Hardware Specification::
* List of Figures::
* List of Tables::
* Index::
@end menu
@end ifnottex
@iftex
@itemize @bullet
@item @ref{Introduction}

Introduction to the SS7/SIGTRAN Security Platform.
@item @ref{System Requirements}

Overarching system requirements for the SS7/SIGTRAN/VoIP Security Network.
@item @ref{Network Configuration}

Network configuration provided by the SS7/SIGTRAN/VoIP Security Network.
@item @ref{Instrumentation}

Instrumentation of the SS7/SIGTRAN/VoIP Security Network.
@item @ref{Node Configuration}

Node configuration provided for nodes in the SS7/SIGTRAN/VoIP Security Network.
@item @ref{Hardware Specification}

Specifications for each compute platfom in the SS7/SIGTRAN/VoIP Security Network.
@item @ref{List of Figures}

List of figures.
@item @ref{List of Tables}

List of tables.
@item @ref{Index}

Index of concepts.
@end itemize
@end iftex

@node Introduction
@chapter Introduction
@cindex Introduction

This document provides a High-Level Design and Project Proposal for an OpenSS7 platform to provide a
high-performance, instrumented SS7 and SIGTRAN capabilities.  The primary driver for this
High-Performance SS7/SIGTRAN/VoIP Security Network is to provide a system that will load ISUP call
completions and detect missed or failed calls for the purposes of experimentation concerning the
security of commercial SS7, SIGTRAN and VoIP stacks.  The document provides a High-Level Design and
Proposal for a instrumented laboratory system to provide this capability.

The proposal utilizes, where possible, existing OpenSS7 SS7, SIGTRAN and VoIP stack components and
provides a development plan for components that are specific to the SS7/SIGTRAN/VoIP Security
Network requirements.

This document discusses the resulting software configuration that will be put in place on the
production system, the platform configuration for the production system, and a lab network
configuration for evaluation.  Also discussed is an overview of the project management logistics for
successful completion over the course of this development project.

It is intended that this document be a ``living'' document, that is updated over the course of this
development project.

@section SS7/SIGTRAN/VoIP Security Network
@cindex SS7/SIGTRAN/VoIP Security Network

This project provides an High Performance SS7/SIGTRAN/VoIP security testing platform that accepts
and responds to high volume ISUP call completions.

@section Project Drivers
@cindex Project drivers

The lead purpose of the High-Performance SS7/SIGTRAN/VoIP Security Network is to provide a
high-performance PSTN sub-network to provide the ISUP call setup function for high-volume load
testing of PSTN implementations in client laboratories.  The for use of experimentation with the
platform will be investigation of the security of a commercial SS7/SIGTRAN/VoIP implementation.

@section Scope
@cindex Scope

Because of its laboratory installation, initially the SS7/SIGTRAN/VoIP Security Network is
constructed using commodity computing platforms and PCI based hardware cards.  This will initially
result in a non-carrier grade system for low cost in the test lab environment.  For production
SS7/SIGTRAN/VoIP platforms, carrier grade options are available but more costly.

It is questionable whether a carrier-grade platform (reliability and availability) is necessary in
the laboratory environment.  Carrier-grade hardware, such as PCMIG 2.15 CompactPCI cards with
duplicated facilities, fail-over and self-healing neither increases nor decreases the security of the
resulting system.  Of more importance than availability is the capacity of the system to handle ISUP
call generation and completion during test runs.

@c @include texi/fdl.texi

@section Conventions
@cindex Conventions

This document uses @cite{texinfo} typographic conventions.

Throughout this document, the word @dfn{STREAMS} will refer to the mechanism and the word
@dfn{Stream} will refer to the path between a user application and a driver.  In connection with
@dfn{STREAMS}-based pipes, @dfn{Stream} refers to the data transfer path in the kernel between the
kernel and one or more user processes.

System calls, @dfn{STREAMS} utility routines, header files, and data structures are given using
@command{texinfo} @file{filename} typesetting, when they are mentioned in the text.

Variable names, pointers, and parameters are given using @command{texinfo} @var{variable}
typesetting conventions.  Routine, field, and structure names unique to the examples are also given
using @command{texinfo} @var{variable} typesetting conventions when they are mentioned in the text.

Declarations and short examples are in @command{texinfo} @samp{sample} typesetting.

@command{texinfo} displays are used to show program source code.
@ignore
Screens are used to simulate what a user will see on a video display screen or to show program
source code.
@end ignore

Data structure formats are also shown in @command{texinfo} displays.

@section Related Manuals
@cindex Related Manuals

@itemize @bullet
@item Data Link Provider Interface (DLPI), Revision 2.0.0, April 1992, OSI Work Group, UNIX International
@item Network Provider Interface (NPI), Revision 2.0.0, April 1992, OSI Work Group, UNIX International
@item Transport Provider Interface (TPI), Revision 1.5, December 1992, OSI Special Interest Group, UNIX International
@item Transaction Interface (TRI), Application Programming Interface, Version 0.9a Edition 5, March 2006, OpenSS7 Corporation
@item Transaction Component Interface (TCI), Application Programming Interface, Version 0.9a Edition 5, March 2006, OpenSS7 Corporation
@item Call Control Interface (CCI), Application Programming Interface, Version 0.9a Edition 5, March 2006, OpenSS7 Corporation
@item Test Environment Toolkit, TETware User Guide, Revision 1.2, TET3-UG-1.2, September 1998, The Open Group.
@item Test Environment Toolkit, TETware Programmers Guide, Revision 1.2, TET3-PG-1.2, September 1998, The Open Group.
@item Test Environment Toolkit, TETware Installation Guide for UNIX Operating Systems, Revision 1.2, TET3-IGU-1.2, September 1998, The Open Group.
@end itemize

@section Other Documentation
@cindex Other Documentation

@itemize @bullet
@item High Performance HLR, Preliminary Design Document, Version 0.9a Edition 5, March 2006, OpenSS7 Corporation
@item OpenSS7 VoIP Switch, Preliminary Design Document, Version 0.9a Edition 5, March 2006, OpenSS7 Corporation
@end itemize

@section Glossary
@cindex Glossary

@section Acronyms
@cindex Acronyms

Following is a list of acronyms used in this document.

@multitable @columnfractions .15 .65
@item @dfn{A/C}		@tab Air Conditioning
@item @dfn{AC}		@tab Alternating Current
@item @dfn{AMD}		@tab American Micro Devices (Company)
@item @dfn{ANSI}	@tab American National Standards Institute
@item @dfn{ASP}		@tab Application Server Process
@item @dfn{AS}		@tab Application Server
@item @dfn{BGWS}	@tab Border Gateway Screening
@item @dfn{BHCA}	@tab Busy Hour Call Attempts
@item @dfn{BIBR}	@tab Backward Indicator Bit Received
@item @dfn{BICC}	@tab Bearer Independent Call Control
@item @dfn{BLA}		@tab Blocking Acknowledgement
@item @dfn{BLO}		@tab Blocking Request
@item @dfn{BRI}		@tab Basic Rate Interface
@item @dfn{BTU}		@tab British Thermal Units
@item @dfn{CCS}		@tab Centi Call Seconds
@item @dfn{CFBNA}	@tab Call Forwarding Busy/No Answer
@item @dfn{CFB}		@tab Call Forwarding Busy
@item @dfn{CFNA}	@tab Call Forwarding No Answer
@item @dfn{CGBA}	@tab Circuit Group Blocking Acknowledgement
@item @dfn{CGB}		@tab Circuit Group Blocking Request
@item @dfn{CGUA}	@tab Circuit Group Unblocking Acknowledgement
@item @dfn{CGU}		@tab Circuit Group Unblocking Request
@item @dfn{CompactPCI}	@tab Compact Peripheral Component Interconnect
@item @dfn{CO}		@tab Central Office
@item @dfn{CRC}		@tab Cyclic Redundancy Check
@item @dfn{DACCS}	@tab Digital Automatic Cross Connect System
@item @dfn{DASD}	@tab Direct Access Storage Device
@item @dfn{DCCS}	@tab Digital Cross Connect System
@item @dfn{DC}		@tab Direct Current
@item @dfn{DPC}		@tab Destination Point Code
@item @dfn{DSC}		@tab Debian Source Control
@item @dfn{DSX}		@tab Digital Cross Connect
@item @dfn{EGWS}	@tab Enhanced Gateway Screening
@item @dfn{ETSI}	@tab European Telecommunications Standards Institute
@item @dfn{FCC}		@tab Federal Communications Commission
@item @dfn{FIBR}	@tab Forward Indicator Bit Received
@item @dfn{FSF}		@tab Free Software Foundation
@item @dfn{GCP}		@tab Gateway Control Protocol
@item @dfn{GK}		@tab Gate Keeper
@item @dfn{GNU}		@tab GNU's Not UNIX
@item @dfn{GRA}		@tab Group Reset Acknowledgement
@item @dfn{GRS}		@tab Group Reset
@item @dfn{GWS}		@tab Gateway Screening
@item @dfn{HDLC}	@tab High-Level Data Link Control
@item @dfn{HTML}	@tab Hyper Text Markup Language
@item @dfn{IC}		@tab Inter-Connect
@item @dfn{IMT}		@tab Inter-Machine Trunk
@item @dfn{IP}		@tab Internet Protocol
@item @dfn{ISDN}	@tab Integrated Services Digital Network
@item @dfn{ISO}		@tab International Organization for Standardization
@item @dfn{ISUP}	@tab ISDN User Part Part
@item @dfn{ITU}		@tab International Telecommunications Union
@item @dfn{ITU-T}	@tab International Telecommunications Union - Telephony Sector
@item @dfn{IXC}		@tab Inter-Exchange Carrier
@item @dfn{LADS}	@tab Local Alarm Display System
@item @dfn{LAN}		@tab Local Area Network
@item @dfn{LEC}		@tab Local Exchange Carrier
@item @dfn{M2PA}	@tab MTP Level 2 Peer-to-Peer User Adaptation Layer
@item @dfn{M2UA}	@tab MTP Level 2 User Adaptation Layer
@item @dfn{M3UA}	@tab MTP Level 3 User Adaptation Layer
@item @dfn{MEGACO}	@tab Media Gateway Control
@item @dfn{MGCP}	@tab Media Gateway Control Protocol
@item @dfn{MGC}		@tab Media Gateway Controller
@item @dfn{MG}		@tab Media Gateway
@item @dfn{MIB}		@tab Management Information Base
@item @dfn{MSU}		@tab Message Signal Unit
@item @dfn{MTP}		@tab Message Transfer Part
@item @dfn{NAT}		@tab Network Address Translation
@item @dfn{NEBS}	@tab Network Equipment Building Standard
@item @dfn{NOC}		@tab Network Operation Control
@item @dfn{NTP}		@tab Network Time Protocol
@item @dfn{NT}		@tab Network Terminal
@item @dfn{NXX}		@tab Central Office Prefix
@item @dfn{OPC}		@tab Originating Point Code
@item @dfn{OSS}		@tab Operations Support System
@item @dfn{PCI}		@tab Peripheral Component Interconnect
@item @dfn{PCMIG}	@tab Personal Computer Manufacturer's Industry Group
@item @dfn{PC}		@tab Personal Computer
@item @dfn{PDF}		@tab Portable Document Format
@item @dfn{POP}		@tab Point of Presence
@item @dfn{PRI}		@tab Primary Rate Interface
@item @dfn{PSTN}	@tab Public Switched Telephone Network
@item @dfn{RCO}		@tab Recent Change Order
@item @dfn{RLC}		@tab Release Complete
@item @dfn{RPM}		@tab RedHat Package Manager
@item @dfn{RTCP}	@tab Real-time Transport Control Protocol
@item @dfn{RTP}		@tab Real-time Transport Protocol
@item @dfn{SCCP}	@tab Signalling Connection Control Part
@item @dfn{SCN}		@tab Switched Circuit Network
@item @dfn{SCP}		@tab Service Control Point
@item @dfn{SCSI}	@tab Small Computer Serial Interface
@item @dfn{SCTP}	@tab Stream Control Transmission Protocol
@item @dfn{SEP}		@tab Signalling End Point
@item @dfn{SG}		@tab Signalling Gateway
@item @dfn{SIF}		@tab Service Information Field
@item @dfn{SIGTRAN}	@tab Signalling Transport
@item @dfn{SIO}		@tab Service Information Octet
@item @dfn{SIP}		@tab Session Initiation Protocol
@item @dfn{SI}		@tab Service Information
@item @dfn{SPOI}	@tab Signalling Point of Interface
@item @dfn{SP}		@tab Signalling Point
@item @dfn{SS7}		@tab Signalling System Number 7
@item @dfn{SSP}		@tab Service Switching Point
@item @dfn{STP}		@tab Signalling Transfer Point
@item @dfn{SUA}		@tab SCCP User Adaptation Layer
@item @dfn{TA}		@tab Terminal Adapter
@item @dfn{TCAP}	@tab Transaction Capabilities Application Part
@item @dfn{TCP}		@tab Transmission Control Protocol
@item @dfn{TDM}		@tab Time Division Multiplexing
@item @dfn{TFA}		@tab Transfer Allowed
@item @dfn{TFC}		@tab Transfer Controlled
@item @dfn{TFP}		@tab Transfer Prohibited
@item @dfn{TIPHON}	@tab Telecommunications and Internet Protocol Harmonization Over Networks
@item @dfn{TUA}		@tab TCAP User Adaptation Layer
@item @dfn{UA}		@tab User Agent
@item @dfn{UBA}		@tab Unblocking Acknowledgement
@item @dfn{UBL}		@tab Unblocking Request
@item @dfn{UDP}		@tab User Datagram Protocol
@item @dfn{UNT}		@tab University of North Texas
@item @dfn{UTP}		@tab Unshielded Twisted Pair
@item @dfn{VAC}		@tab Volts AC
@item @dfn{VDC}		@tab Volts DC
@item @dfn{VoIP}	@tab Voice over IP
@item @dfn{VSP}		@tab Virtual Signalling Point
@end multitable

@node System Requirements
@chapter System Requirements
@cindex System Requirements

This section discusses SS7/SIGTRAN/VoIP Security Network system requirements generated by the need
for testing of security frameworks present within the Public Switched Telephone Network
(PSTN).@footnote{It should be noted that UNT has not written even a high-level requirements document
for the instrumentation required for experimentation.  The requirements in the sections that follow
derive from discussions with Dr. Ram Dantu of UNT and consideration of the paper @cite{SS7 over IP:
Signaling Interworking Vulnerabilities}.}

@menu
* Experimentation Objectives::
* Experimental Approach::
* Experiment Requirements::
@end menu

@node Experimentation Objectives
@section Experimentation Objectives
@cindex Experimentation Objectives

The primary objective of providing an SS7/SIGTRAN/VoIP Security Network is to provide an environment
for experimentation in aspects of SS7 signalling security.  The network is expected to operate in a
close a fashion to a LEC network as current deployed within the Public Switched Telephone Network
(PSTN).  The network should run a realistic load of telephone network calls using the ISDN User Part
(ISUP) protocol of Signalling System No. 7, and present network elements organized and configured
according to current practises in the PSTN.

@figref{1} illustrates one network node configuration discussed in the paper @cite{SS7 over IP:
Signaling Interworking Vulnerabilities} from the SS7 network perspective.

@figure{lab000,1,Network Architecture}

@figref{1} shows two typical demarcation points for interconnection.  A Point-of-Presence (POP)
occurs at the facilities between interconnected SSPs.  The precise POP demarcation point is largely
arbitrary as far as security is concerned.  A Signalling Point of Interface (SPOI) occurs either
across the B/D-Links interconnecting STP associated pairs (indicated by dotted line (B)), or across
the A/E-Links interconnecting the SSP to the SS7 network (indicated by dotted line (A)).

The SSP on the right of @figref{1} can be further decomposed according to the SIGTRAN and TIPHON
architectures as illustrated in @figref{2} and @figref{3}.  The SIGTRAN architecture provides for
two forms of decomposition and back-haul of SS7 signalling traffic over an IP network.  Each form
corresponds to the demarcation points and interconnect strategies illustrated in @figref{1}.

The TIPHON architecture provides for decomposition of a gateway appearing as an SSP within the SS7
network that provides interworking between the traditional ISUP based call control of the SS7
network and the BICC, H.323 or SIP call control of a VoIP network.

The gateway is decomposed into three (3) roles: the Media Gateway Controller (MGC) that provides
call control interworking between ISUP and BICC, H.323 or SIP; the Signalling Gateway (SG) that
provides signalling interworking and distribution within the decomposed gateway; and, the Media
Gateway (MG) the provides media conversion between TDM bearer channels in the Switched Circuit
Network (SCN) and Real-Time Transport Protocol (RTP) sessions in the VoIP network.  This
decomposition is the same independent of the demarcation point or interconnect strategy and is
illustrated in both @figref{2} and @figref{3}.

@figure{lab005,2,SSP Decomposition - Demarcation B}

As illustrated in @figref{2}, the SIGTRAN decomposition of the SSP at interconnection point (B)
utilizes a pair of Signalling Gateways (SGs) that act as an associated pair of Signalling Transfer
Points (STPs) to the SS7 network.  The Media Gateway Controller (MGC) provides SSP call control
functions and acts as an ASP toward the SGs within the SIGTRAN network.  SUA, M3UA, M2UA or M2PA
SIGTRAN protocols can be used.

@figure{lab006,3,SSP Decomposition - Demarcation A}

As illustrated in @figref{3}, the SIGTRAN decomposition of the SSP at interconnection point (A)
utilizes a single Signalling Gateway (SG) that acts as a signalling end point (SEP) to the SS7
network.  The Media Gateway Controller (MGC) provides SSP call control functions and acts as an ASP
toward the SG within the SIGTRAN network.  SUA, M3UA, M2UA (but not M2PA) SIGTRAN protocols can be
used.

Typically, the networks labelled as @dfn{VoIP Control Network} in @figref{2} and @figref{3} is a
secured private network.  Although the networks labelled as @dfn{VoIP Signalling Network} and
@dfn{VoIP Bearer Network} might be directly or indirectly connected to the public Internet, they
likely are not in real-world deployments.  Normally a BICC gateway (GW), H.323 Gate Keeper (GK) or
SIP Proxy would stand between the @dfn{VoIP Signalling Network} and a public Internet or even a
private network attached ultimately to a public Internet.  Normally a Network Address Translation
(NAT) device, IP Proxy, IP Firewall and security routers would stand, both between the @dfn{SIGTRAN
Signalling Network} and @dfn{VoIP Control Network} and any external attached network elements, as
well as between the MGC and the @dfn{VoIP Signalling Network} and the MGs and the @dfn{VoIP Bearer
Network}.

Nevertheless, the objective of the SS7/SIGTRAN/VoIP Security Network is to provide experiment access
to each node and control or signalling network in the system.

@node Experimental Approach
@section Experimental Approach
@cindex Experimental Approach

The experimental approach is to provide a network environment that behaves much the same as the
Public Switched Telephone Network (PSTN) in regard to the processing of calls and the functional
platforms and logical nodes provided.  Commercial implementations of protocols and call processing
functions will be used throughout.  The SS7/SIGTRAN/VoIP Security Network is a captive network in
the sense that it is not connected to the Public Switched Telephone Network (PTSN) nor Public
Internet.  Each node in the captive network will be fully instrumented for the purpose of running
experiments.  The captive network will carry a high volume of call traffic in the same manner as a
typical medium scale deployment within the PSTN.  Call traffic will be generated using best practise
load generation techniques (load box) normally used for testing the performance and capacity of
telecommunications networks.@footnote{Note that the use of real MGs, IMTs (Inter-Machine Trunks) and
RTP channels for high traffic volumes is cost prohibitive.  Costs approaching that of the PSTN
itself would result.  Call emulation consisting of the signalling components without the actual
bearer-channel facilities can provide large-scale signalling traffic approaching that of a large
network provider without the cost of the physical trunks.  Also, the security of the MEGACO/H.248 or
MGCP protocols is not the subject of current investigations and will not be implemented.}
Experiments will then be run against this operating system in attempting to attack the system using
the techniques documented in the paper: @cite{SS7 over IP: Signaling Interworking Vulnerabilities}.

@node Experiment Requirements
@section Experiment Requirements
@cindex Experiment Requirements

In support of experimentation with signalling security, the following high-level requirements arise:

@enumerate
@item  The system should as closely as possible provide the configuration and capabilities found in
a medium to large scale public network.
@item  The system must be able to sustain a high signalling load while performing experiments.
@item  Call traffic generators and acceptors will be provided to simulate the call traffic load of
many subscribers in a large network.
@item  The system will be instrumented and call traffic monitors and audits provided for correct
completion and release of each call.  This is to assist in the determination of the results of a
given experiment.@footnote{That is, to determine, for example, how many call failures were caused by
a particular experiment, and the nature and extent of each failure.}
@end enumerate

The following efficiencies will be exploited:

@enumerate
@item
As the actual bearer channels are not the subject of current investigation@footnote{Current
investigation focusses on the signalling component and not the bearer component.}, an efficiency can
be gained by not physically providing the Inter-Machine Trunks (IMTs), Media Gateways (MGs) or RTP
channels necessary to provide the bearer capabilities for the generated traffic.

@item
Intra-switch traffic does not need to be generated; only inter-switch traffic.  Because intra-switch
traffic (some 80% of the call traffic experienced within the PSTN) does not expose itself as ISUP
SS7 signalling, it need not be simulated.  By not simulating intra-switch traffic, a PSTN
environment of five (5) times the scale or more can be accomplished with the same capacity of
equipment.

@item
PSTN line-side interfaces and devices@footnote{An example of PSTN line-side device and interfaces
are ISDN basic rate or ISDN primary rate interfaces, and BRI ISDN sets and PRI NT1s are an example
of PSTN line-side devices.} do not need to be provided.  Traffic generation and acceptance can be
simulated with direct ISUP traffic generation and acceptance.

@item
VoIP network User Agent (UAs), the equivalent of PSTN line-side devices, do not need to be provided
for signalling security testing.  In a later phase, these devices could be simulated.

@item
ISUP protocol stacks provide a set of standard operational measurements that can be used to
instrument and monitor call completion and release.  Operations measurements include the number of
lost or abnormal calls, including the nature of the failure and diagnostic information.  This
information will be reused to instrument ISUP call processing within the network in several
ways:

@enumerate
@item
Operational measurement statistics can be used to show the impact of an experiment on the ability of
the system to function normally.  Operational measurement statistics are an indicator of the health
of the system and are collected on an ongoing basis for all nodes.

@item
Operational measurement @dfn{studies}@footnote{An operational measurement study invokes the
collection of operational measurements not normally collected on a regular basis.} can be defined to
report the impact of specific experiments.

@item
Operational measurement alarms can be collected and used to indicate the level of maintenance and
security response by an operator to experiments.
@end enumerate

@item
Call processing logic in commercial PSTN SSPs provide for authentication, authorization, screening
and verification of call signalling information for the purposes of telecommunications network
security.  This authentication, authorization, screening and verification is aimed at providing
security of telecommunications common equipment resources and billing audit and verification.  These
processes are sophisticated and have evolved from a long history of attempted and successful abuse
of the public telephone network.  However, these methods are not the focus of an investigation into
the security of signalling systems and will not be implemented on load generated traffic.

@item
In actual deployments, network elements occur at a geographic distance and short and long haul
telecommunications facilities connect the network elements.  For the purposes of signalling
security, the distance between nodes and the facilities between them are not a focus.  All
connecting facilities, although of the same type as found in real networks, will be intra-office
facilities and within the system will be cage to cage connections not exceeding several meters.

@item
In network deployments there is a high degree of physical security surrounding primary network
elements such as LEC primary STPs.  In these installations, simply opening a door can generate
security alarms.  For the purpose of signalling security testing, this physical security will not be
recreated.

@end enumerate

@node Network Configuration
@chapter Network Configuration
@cindex Network Configuration

To satisfy the requirements for experimentation with the security of the SS7/SIGTRAN/VoIP Security
Network, the intention is for the instrumentation to provide a telecommunications network and
environment that parallels actual Local Exchange Carrier (LEC) deployments within the Public
Switched Telephone Network (PSTN).  The SS7/SIGTRAN/VoIP Security Network will provide a captive
network equivalent to the PSTN in which experiments can be performed and meaningful results
collected.  To accomplish this, the logical nodes in the SS7/SIGTRAN/VoIP Security Network provide
the capabilities of typical physical nodes, platforms and installations in the PSTN.

The mapping of logical PSTN and VoIP network elements onto the physical nodes of the captive network
is the subject of this section.  First the logical network configuration is determined, and then the
mapping of logical network configuration onto a physical realization is provided.

@menu
* Logical Network Configuration::
* Physical Network Configuration::
@end menu

@node Logical Network Configuration
@section Logical Network Configuration
@cindex Logical Network Configuration

In this section the types of logical network elements (nodes) and their typical interconnection and
configuration is discussed.  The number of logical nodes of each type and a single captive network
configuration suitable for the purposes of experimentation in signalling system security is then
proposed.

@menu
* Logical Network Nodes::
* Logical Node Configuration::
* Proposed Logical Nodes::
@end menu

@node Logical Network Nodes
@subsection Logical Network Nodes
@cindex Logical Network Nodes

To meet the requirements of PSTN experimentation, the logical nodes that need to be provided are as
follows:

@menu
* Service Switching Point (SSP)::
* Signalling Transfer Point (STP)::
* Signalling Gateway (SG)::
* Application Server Process (ASP)::
* Media Gateway Controller (MGC)::
* Media Gateway (MG)::
@end menu

@node Service Switching Point (SSP)
@subsubsection Service Switching Point (SSP)
@cindex Service Switching Point (SSP)

Service switching points (SSPs) are Switches (end-offices, tandem, toll) within the PSTN under the
SS7 signalling architecture.  These node initiate and terminate ISUP call connections.

SS7 signalling links (A/F-links) connect SSP to STP within the PSTN.  Service switching points within
the PSTN also terminate voice circuits for ISUP call connections.

Each physical node within the SS7/SIGTRAN/VoIP Security Network is capable of providing multiple logical
SSPs, each with their own set of SS7 signalling links (A/F-links) connected into the SS7 signalling
network, and each with their own ISUP circuit connections.  For the purposes of signalling security
experimentation, it is not necessary to provide circuit connections for ISUP call bearer circuits.

Operational measurements that are available for experiment result analysis are the complete set of
standard MTP and ISUP statistics and events as indicated in
ITU-T Recommendation Q.752@footnote{ITU-T Recommendation Q.752, "Specification of Signalling System
No. 7 -- Monitoring and Measurements for Signalling System No.  7," Jun 1997, (Geneva), ITU, ITU-T
Telecommunication Standardization Sector of ITU.  (Previously "CCITT Recommendation")}.

@node Signalling Transfer Point (STP)
@subsubsection Signalling Transfer Point (STP)
@cindex Signalling Transfer Point (STP)

Signalling transfer points (STPs) are signalling relay points within the PSTN under the SS7
signalling architecture.  These nodes neither initiate nor terminate ISUP call connections, but
transfer the signalling messages between SSPs that do.

SS7 signalling links (A/F-links) connect SSP to STP within the PSTN.  STPs are also connected to other
STPs using SS7 signalling links (B/C/D-links).  B/D-links are used to connect STPs together along the 
signalling transfer path.  C-links (or cross-links) are used to connected mated pairs of STPs
together to form redundant pairs of STPs.

Each physical node within the SS7/SIGTRAN/VoIP Security Network is capable of providing multiple
logical STPs, each with their own set of SS7 signalling links (B/C/D-links) connected into the SS7
signalling network.

Operational measurements that are available for experiment result analysis are the complete set of
standard MTP statistics and events as indicated in
ITU-T Recommendation Q.752@footnote{Ibid.}.

@node Signalling Gateway (SG)
@subsubsection Signalling Gateway (SG)
@cindex Signalling Gateway (SG)

Signalling gateways (SGs) are interworking points to the PSTN under the SIGTRAN signalling
architecture.  These nodes neither initiate nor terminate ISUP call connections, but transfer and
inter-work signalling messages between the SS7 signalling network and the SIGTRAN IP network.

Signalling gateways (with the sole exception of M2PA) connect to the SS7 network using traditional
SS7 signalling links and connect to the IP network using typical network interfaces (e.g.
Ethernet).  Signalling gateways do not terminate ISUP call circuits within the SIGTRAN architecture.

Two types of signalling gateways are possible, distinguished by how the node appears logically
within the SS7 networks:

@enumerate
@item SG as SSP.
When a signalling gateway appears within the SS7 network as a service switching point (SSP), the
signalling gateway terminates A/F-links (SS7 signalling links) and presents the signalling point code
of a service switching point.
@item SG as STP.
When a signalling gateway appears within the SS7 network as a signalling transfer point (STP), the
signalling gateway terminates B/C/D-links (SS7 signalling links), are normally provisioned in mated pairs, and
present the signalling point code of a signalling transfer point (STP) and proxy virtual signalling
points (VSP) which are an emulated of A/F-link attached SSPs.
@end enumerate

Each physical node with the SS7/SIGTRAN/VoIP Security Network is capable of providing multiple
logical SGs of either type, each with their own set of SS7 signalling links (A/B/C/D/E/F-links) and
network interfaces or SCTP connections to the Internet Protocol network.

Operational measurements that are available for experiment result analysis are the complete set of
standard MTP statistics and events as indicated in
ITU-T Recommendation Q.752@footnote{Ibid.}.
There are no standard MIBs available for SIGTRAN protocols other than SCTP itself.

@node Application Server Process (ASP)
@subsubsection Application Server Process (ASP)
@cindex Application Server Process (ASP)

Application server processes (ASPs) are interworking points to the PSTN under the SIGTRAN signalling
architecture.  These nodes may initiate or terminate ISUP call connections.

Network interfaces (such as Ethernet) are used to connect ASPs to the SIGTRAN IP network, and ASPs
may terminate ISUP call bearer circuits.  ASPs do not have SS7 signalling links.

Each physical node within the SS7/SIGTRAN/VoIP Security Network is capable of providing multiple
logical ASPs, each with their own set of network interfaces or SCTP connections to the Internet
Protocol network, and each with their own set of ISUP call bearer circuits.

Operational measurements that are available for experiment result analysis are the complete set of
standard MTP and ISUP statistics and events as indicated in
ITU-T Recommendation Q.752@footnote{Ibid.}.
There are no standard MIBs available for SIGTRAN protocols other than SCTP itself.

@node Media Gateway Controller (MGC)
@subsubsection Media Gateway Controller (MGC)
@cindex Media Gateway Controller (MGC)

Media gateway controllers (MGCs) are interworking points to the PSTN under the ETSI TIPHON
architecture.  These nodes neither initiate nor terminate ISUP call connections, but inter-work then
to SIP or H.323 calls external to the PSTN.

Media gateway controllers connect to the SS7 network using traditional SS7 signalling links
(normally A/F-links) and act like an tandem SSP (non-end-office) within the PSTN.  Media gateway
controls connect to the Internet Protocol network using network interfaces and form TCP or SCTP
connections within that network.  Media gateway controllers connect to Media Gateways (MGs) using
network interfaces and form TCP or SCTP connections within that network.  Media gateway controllers
neither terminate ISUP call bearer circuits nor RTP sessions.

Each physical node within the SS7/SIGTRAN/VoIP Security Network is capable of providing multiple
logical MGCs, each with their own set of SS7 signalling links and IP network interfaces or TCP/SCTP
connections.

Operational measurements that are available for experiment result analysis are the complete set of
standard MTP and ISUP statistics and events as indicated in
ITU-T Recommendation Q.752@footnote{Ibid.}.

@node Media Gateway (MG)
@subsubsection Media Gateway (MG)
@cindex Media Gateway (MG)

Media gateway controllers (MGs) are bearer channel inter-working points to the PSTN under the ETSI
TIPHON architecture.  These nodes neither initiate not terminate ISUP call connections, but
inter-work between the TDM-based ISUP call bearer circuits in the PSTN and ephemeral RTP sessions
within the IP network.

Although each physical SS7/SIGTRAN/VoIP Security Network node is capable of providing multiple
logical MG functions, this function is not necessary to the investigation of signalling security.

@node Logical Node Configuration
@subsection Logical Node Configuration
@cindex Logical Node Configuration

To satisfy the requirements for experimentation, the proposed logical node configuration is chosen
to provide as many characteristics experienced in a real interconnect arrangement as possible, while
limiting the interworking points to a few specific locations within the captive network for the
purpose of monitoring and collection of results of experimentation.

@menu
* SS7 Network Configuration::
* TIPHON Network Configuration::
* SIGTRAN Network Configuration::
@end menu

@node SS7 Network Configuration
@subsubsection SS7 Network Configuration
@cindex SS7 Network Configuration

@figref{4} illustrates the typical network node configuration under the SS7 network
architecture:

@figure{lab001,4,SS7 Network Architecture}

@figref{4} shows the types of nodes within the SS7/SIGTRAN/VoIP Security Network, and an indication
of the @emph{number} of nodes within each type.  There are four types of nodes:

@subsubheading LEC service switching points (SSPs).

For the purposes of security experimentation, more than one logical LEC SSP will be provided.  The
purpose of providing multiple LEC SSPs is to be able to monitor any description of call traffic
between LEC SSP nodes.

In normal CO arrangements, LEC SSP call control is not connected to any publicly accessible IP
network (full air gap).  The only manner in which attackers (and thus realistic experiments) can
affect the operation of LEC SSPs is via the SS7 protocol.  Physical security of SSPs should be
considered separate from signalling system security.

Each LEC SSP is capable of providing varying degrees of screening on ISUP signalling on an trunk
group by trunk group basis.  Whether a call is routed or billed correctly depends upon LEC security
screening policy and policies with regards to software standards, translations, customer data fill,
MATELs and RCOs.  These aspects should be considered as separate from signalling system security.

@subsubheading LEC signalling transfer points (STPs).

For the purpose of security experimentation, one logical associated pair of LEC STPs will be
provided.  Providing only one pair is consistent with the interconnect topology of relatively large
LEC networks.

In normal CO arrangements, LEC STPs are not connected to any publicly accessible IP network (full
air gap).  The only manner in which attackers (and thus realistic experiments) can affect the
operation of the LEC STP is via the SS7 protocol.  Physical security of STPs is, in practise, quite
high, and should be considered separate from signalling system security.

Each LEC STP is capable of providing Enhanced and Border Gateway Screening (EGWS/BGWS) applied on
any or all attached SS7 links.  In real networks, any STP associated pair to which an external
administration interconnects is so equipped and full screening is activated.

@subsubheading IC signalling transfer points (STPs).

For the purpose of security experimentation, one logical associated pair of IC STPs will be
provided.  Providing only one pair is consistent with the interconnect topology of relatively large
IC (e.g.  IXCs). 

In normal CO arrangements, interconnects employ similar security policies to that of the LEC, a
situation that is required for under FCC regulation.  It is not reasonable to assume that the IC
STPs are any more subject to IP network attack than the LEC STPs.  It can be assumed that they are
not attached (full air gap) to any publicly accessible IP network and that the only way that their
behaviour can be affected is via SS7 signalling links.

Each IC STP is capable of providing Enhanced and Border Gateway Screening (EGWS/BGWS) applied on any
or all attached SS7 links.  In real networks, any STP associated pair to which an external
administration interconnects is so equipped and full screening is activated.

@subsubheading IC service switching points (SSPs).

For the purpose of security experimentation, only one logical IC SSP need be provided.

The particular IC SSPs of concern to the current investigations are SSPs that are decomposed into
IETF SIGTRAN and ETSI TIPHON components as described under @ref{SIGTRAN Network Configuration} and
@ref{TIPHON Network Configuration}, below.

@node TIPHON Network Configuration
@subsubsection TIPHON Network Configuration
@cindex TIPHON Network Configuration

@figref{5} illustrates the typical network node configuration under the TIPHON network
architecture.

@figure{lab003,5,TIPHON Network Architecture}

The ETSI TIPHON VoIP architecture decomposes the IC SSP in @figref{4} into the components
illustrated in @figref{5}.  The components are as follows:

@subsubheading Media Gateway Controller (MGC)

The media gateway controller (MGC) is responsible for terminating call control signalling within
both the SCN (Switched Circuit Network) and the IP Network and providing interworking between the
protocols.  In some instances this interworking might be rather trivial (as in the case of ISUP and
BICC, or Q.931 and H.245) or complex (as in the case of ISUP and SIP).

@subsubheading Media Gateway (MG)

The media gateway (MG) is responsible for conversion of TDM bearer channels and Real-Time Transport
(RTP) Audio-Video Profile (AVP) sessions.  The conversion is performed under the control of the
Media Gateway Controller (MGC) using a media gateway control protocol such as MEGACO/H.248 or MGCP.

@subsubheading Signalling Gateway (SG)

The signalling gateway (SG) is responsible for conversion of TDM signalling access to an internal
signalling representation usable by the Media Gateway Controller (MGC).  The signalling gateway (SG)
is a functional component and is often integrated on the same platform as the MGC or MG.

@node SIGTRAN Network Configuration
@subsubsection SIGTRAN Network Configuration
@cindex SIGTRAN Network Configuration

@figref{6} illustrates the typical network node configuration under the SIGTRAN network
architecture.

@figure{lab002,6,SIGTRAN Network Architecture}

@node Proposed Logical Nodes
@subsection Proposed Logical Nodes
@cindex Proposed Logical Nodes

In fitting with diagrams @figref{4}, @figref{5} and @figref{6}, 9 logical nodes will be provided as
follows:

@tabfig{labnodes,T-1,Proposed Logical Nodes}

As listed in @tabref{T-1}, logical nodes A, B and C are LEC SSPs that are interconnected to each
other as well as to the IC SSP/MGC (node I).  Nodes D and E are LEC STPs that form the LEC SS7
backbone network.  Nodes F and G are optional IC STP/SGs.  Node H is an SSP/SG within the SIGTRAN
network behaving like an SSP.  Node I is an MGC/ASP acting as a gateway to the VoIP network.  Node J
(not shown in the diagrams) is an purely administrative node acting in the role of an OSS
(Operational Support System).

The proposed logical node network configuration is illustrated in @figref{7}.

@figure{lab004,7,Proposed Logical Nodes Configuration}

Note that in @figref{7}, only the signalling components are fully implemented.  The Inter-Machine
Trunks (IMTs) shown in blue connecting SSP components are not implemented to reduce expense.  Also,
the Media Gateways (MGs) shown are not implemented, the VoIP Control Network between the MGC and the
MGs is not implemented, and the RTP network from the MGs is not implemented.

@node Physical Network Configuration
@section Physical Network Configuration
@cindex Physical Network Configuration

Each physical node within the SS7/SIGTRAN/VoIP Security Network consists of a high-performance commodity
computing platform, specialized TDM interface cards for providing narrow-band and high-speed SS7
signalling links and narrow-band ISUP call bearer circuits, as well as network interfaces (Ethernet)
to the IP network.

Each physical node within the SS7/SIGTRAN/VoIP Security Network can acts as multiple logical nodes
within the SS7, SIGTRAN or VoIP architectures.  Logical nodes are assigned dedicated circuit
facilities from TDM interfaces as well as forming dedicated TCP or SCTP connections over the IP
network.

Configuration of the network operating environment consists of the mapping of logical nodes onto
physical nodes and the interconnection of the physical nodes.

@subsection Logical Node Mapping Alternatives
@cindex Logical Node Mapping Alternatives

There are several alternatives for mechanisms used for the mapping of logical nodes onto physical
compute platforms, referred to here as virtualization and non-virtualization approaches as follows:

@subsubheading Virtualization

Under a virtualization approach, the machine virtualization provided by the Xen Hypervisor allow one
physical compute platform to run multiple operating system kernels.  Under this approach, each
logical node would run on a different instance of the Linux operating system running under the
hypervisor.

The advantage of this approach for the investigation of stack security is that if the operating
system can be caused to crash, it will only affect one logical node and not all logical nodes
operating on the physical platform.  This has advantages in maintaining independence between
logical nodes.  The disadvantage is configuration complexity.

@subsubheading Non-Virtualization

Under a non-virtualization approach, the machine runs a single Linux operating system.  Under this
approach, each logical node would run as a set of processes on one instance of the Linux operating
system running native on the machine.

The advantage of this approach is simplicity.  The disadvantage of this approach for the
investigation of stack security is that, if the operating system can be caused to crash, all logical
nodes will be affected.

Because the OpenSS7 stacks have been designed to provide partitioned logical nodes in a
non-virtualization environment, the non-virtualization approach will be take at least initially.  If
the need arises, the virtualization approach can be assumed at a later date.

@subsection Logical Nodes versus Physical Nodes
@cindex Logical Nodes versus Physical Nodes

Although the entire SS7/SIGTRAN/VoIP Security Network could be implemented on so little as a single
compute platform, the objectives of experimentation with signalling system security is better met by
multiple physical compute platforms for the following reasons:

@subsubheading Signalling Capacity

It is not possible for the SS7/SIGTRAN/VoIP Securty Network to approach the signalling capacity of
even small PSTN LEC networks with a single compute platform.  Without large signalling capacity it
is difficult to extrapolate from experimental results to the impact on large scale call handling.
With a high-performance system providing the signalling capacity of a large LEC network,
experimental results are directly applicable to real-world networks.

@subsubheading Node Independence

Although logical nodes can be defined so that more than one logical node exists on a given physical
compute platform, doing so creates a dependence between the logical nodes that exists, even if the
virtualization approach is taken.@footnote{Virtualization does not completely partition the platform
into multiple virtual platforms: for example, hardware that can be reset directly, such as Ethernet
cards, will become unusable for all virtual machines and thus all logical nodes.}  It could be
argued that experimental results impacting a network run on a single physical compute platform would
have less of an impact on networks composed of independent platforms.

@subsubheading Node Isolation

By placing logical nodes that are normally isolated from a public IP network by an air gap with logical
nodes not so isolated from a public IP network, it might be tempting to show experimental results
where one node affects the other directly through programmatic interfaces on the same machine rather
than via the external interfaces normally associated with such a logical node on the network.

For example, a LEC STP that is separated from an IP network by an air gap running on the same
compute platform as, say, an MGC that is, perhaps, indirectly connected to a public IP network,
would permit an experiment to use programmatic interfaces to the STP on the same platform as the
MGC.  It could be argued that the results of such an experiment are not applicable to real-world
networks.

@subsubheading Security

Physical platforms that have a narrow defined purpose are easier to secure than those that have a
broad purpose.  If multiple logical nodes are implemented on the same physical compute platform, it
could be argued that the experiment results would not be applicable to a real-world
telecommunications platform that exists with a very narrow defined scope (such as an STP).

Nevertheless, small systems can be built using a single compute platform for purposes such
as the independent development of experiments.

@node Instrumentation
@chapter Instrumentation
@cindex Instrumentation

@menu
* Traffic Generation::
* Operational Measurements::
* Distributed Test Harness::
@end menu

The SS7/SIGTRAN/VoIP Security Network will have three categories of instrumentation for the purpose
of execution of experiments against the network:

@enumerate
@item @dfn{Traffic Generation.}

Traffic generation provides the ability to determine the impact of specific experiments on the
operation of large networks and specifically the processing of ISUP calls.
@item @dfn{Operational Measurements.}

Operational measurements provide statistics, event and alarm detection and collection that can be
used to analyze the results of specific experiments on the operation of large networks.
@item @dfn{Distributed Test Harness.}

A distributed test harness provides a repeatable framework within which to generate and operation
specific experiments.
@end enumerate

@node Traffic Generation
@section Traffic Generation
@cindex Traffic Generation

To meet the purposes of providing an SS7/SIGTRAN/VoIP Security Network that parallels that found in
actual deployments within the PSTN, generation of network signalling traffic at levels comparable to
a LEC network is required.  To accomplish this, logical nodes terminating ISUP traffic will be
equipped with virtual traffic load generators (i.e. load boxes) in the same physical node.

Traffic loading points are illustrated in @figref{8}.

@figure{lab007,8,Traffic Generation Points}

There are four traffic load generation points within the SS7/SIGTRAN/VoIP Security Network: three
(3) load generation points, one each at each of the LEC SSPs (nodes A, B, C) in the network
configuration as illustrated in @figref{8}; and one (1) load generation point at the IC MGC (node
I).

The characteristics of the traffic load generators are as follows:

@itemize @bullet
@item
Each traffic load generator will generate ISUP call traffic for a specific number of subscriber
lines.  Suggested distribution of subscriber lines are 25% of the overall number of subscriber lines
for each of the SSP and MGC traffic generation points.  A target figure is to generate signalling
traffic for ten million (10,000,000) overall subscriber lines (four million BHCA, or 288 million
call minutes per day).
@item
Each subscriber line will be modelled as a pure birth-death process providing between 4-8 CCS (Centi
Call Seconds) of average day peak hour load.  An average holding time of 3-5 minutes will be
used.@footnote{The lower CCS and holding times within the range are typical of residential (non-dial
access) lines; the higher values in the range, indicative of business lines.}
@item
Of this load, 80% will be considered intra-switch and will not be generated.  20% will be considered
inter-switch and will be generated.  Splitting of intra-switch and inter-switch traffic will be done
using determinate load splitting of Poisson distributed traffic.
@item
Distribution of calls over the available subscriber lines will be performed considering a fixed and
equal probability of a call being generated between any given subscriber line and any other
subscriber line.
@item
Busy treatment patterns will be simulated.  Subscriber line busy treatment will be based on actual
subscriber line status.  60% of the subscriber lines will be considered as equipped with a
busy/no-answer treatment that results in call connection (i.e. voice mail, CFBNA).  Calls that would
otherwise encounter busy treatment (according to actual line status) will be considered to be
abandoned without reattempt if the terminating line is not equipped with a CFB service.  When
equipped with a CFB service the call will be considered to hold for only 30-60 seconds.
@item
No-answer treatment patterns will be simulated.  Subscriber line no-answer treatment will be
considered on a fixed and equal probability.  Lines considered as having no-answer but equipped with
a no-answer service (60% of the lines) will be considered to hold for only 30-60 seconds.
@item
All trunks busy treatment patterns will be actual.  Inter-office trunk groups will be engineered for
the experienced traffic rates at an Erlang C blocking probability of 0.999 for high-day busy hour.
This is consistent with toll grade trunks traffic engineering.  As the traffic is simulated for
average-day busy hour, trunk blocking probability is almost zero.  Therefore, for the purpose of
simplifying the simulation, all trunks busy treatment will be be applied.
@end itemize

@node Operational Measurements
@section Operational Measurements
@cindex Operational Measurements

@menu
* MTP Operational Measurements::
* ISUP Operational Measurements::
* Special Studies::
@end menu

Each SS7 node in the SS7/SIGTRAN/VoIP Security Network provides full operational measurements in
accordance with @cite{ITU-T Recommendation Q.752}.  This recommendations provides for both basic
statistics collection and basic alarm generation.

@node MTP Operational Measurements
@subsection MTP Operational Measurements
@cindex MTP Operational Measurements

Each logical node providing an MTP layer will provide complete Q.752 operational measurements for
the MTP layers it provides.  In the proposed SS7/SIGTRAN/ISUP Security Network logical nodes
(@pxref{Proposed Logical Nodes}), all logical nodes with the possible exception of the MGC/ASP
node (node @samp{I})@footnote{Whether node @samp{I}, the MGC/ASP node, provides an MTP layer, or a
portion of an MTP layer, is dependent on the SIGTRAN protocol used: if M3UA or SUA is used in the
non-SG as STP arrangement, the MGC/ASP does not provide any portion of an MTP layer; if M2PA or M2UA
is used, at least some portion of the MTP is provided by the node.}, provide some portion of the MTP
layer and will provide operational measurements, statistical collection and alarm generation.

Operational measurements for MTP listed in Q.752 are as follows:

@subsubheading MTP Signalling link faults and performance.
@multitable @columnfractions .10 .90
@item 1.1 @tab Duration of link in the in-service state.
@item 1.2 @tab Signalling link failure, all reasons.
@item 1.3 @tab Signalling link failure, abnormal FIBR/BSNR.
@item 1.4 @tab Signalling link failure, excessive delay of acknowledgement.
@item 1.5 @tab Signalling link failure, excessive error rate.
@item 1.6 @tab Signalling link failure, excessive duration of congestion.
@item 1.7 @tab Signalling link alignment or proving failure.
@item 1.8 @tab Number of signal units received in error.
@item 1.9 @tab Number of negative acknowledgements received.
@item 1.10 @tab Local automatic changeover.
@item 1.11 @tab Local automatic changeback.
@item 1.12 @tab Signalling link restoration.
@end multitable

@subsubheading MTP signalling link availability.
@multitable @columnfractions .10 .90
@item 2.1 @tab Duration of signalling link unavailability, for any reason.
@item 2.5 @tab Duration of signalling link inhibition, local management actions.
@item 2.6 @tab Duration of signalling link inhibition, remote management actions.
@item 2.7 @tab Duration of signalling link unavailability, link failure.
@item 2.9 @tab Duration of signalling link unavailability, remote processor outage.
@item 2.10 @tab Start of remote processor outage.
@item 2.11 @tab Stop of remote processor outage.
@item 2.13 @tab Local management inhibit.
@item 2.14 @tab Local management uninhibit.
@item 2.15 @tab Duration of local busy.
@item 2.16 @tab Start of local inhibition.
@item 2.17 @tab End of local inhibition.
@item 2.18 @tab Start of remote inhibition.
@item 2.19 @tab End of remote inhibition.
@end multitable

@subsubheading MTP signalling link utilization.
@multitable @columnfractions .10 .90
@item 3.1 @tab Number of SIF and SIO octets transmitted.
@item 3.2 @tab Octets retransmitted.
@item 3.3 @tab Number of message signal units transmitted.
@item 3.4 @tab Number of SIF and SIO octets received.
@item 3.5 @tab Number of message signal units received.
@item 3.6 @tab Signalling link congestion indications.
@item 3.7 @tab Cumulative duration of signalling link congestion.
@item 3.10 @tab MSUs discarded, signalling link congestion.
@item 3.11 @tab Number of congestion events resulting in loss of MSUs.
@end multitable

@subsubheading MTP signalling link set and route set availability.
@multitable @columnfractions .10 .90
@item 4.2 @tab Duration of unavailability of signalling link set.
@item 4.3 @tab Start of link set failure.
@item 4.4 @tab Stop of link set failure.
@item 4.5 @tab Initiation of broadcast TFP, failure of measured link set.
@item 4.6 @tab Initiation of broadcast TFA for recovery of measured link set.
@item 4.9 @tab Unavailability of route set to a given destination (set).
@item 4.10 @tab Duration of unavailability of a route set to a given destination (set).
@item 4.11 @tab Start of unavailability of a route set to a given destination (set).
@item 4.12 @tab Stop of unavailability of a route set to a given destination (set).
@item 4.13 @tab Change in link set used to adjacent SP.
@end multitable

@subsubheading MTP signalling point status.
@multitable @columnfractions .10 .90
@item 5.1 @tab Adjacent SP inaccessible.
@item 5.2 @tab Duration of adjacent SP inaccessible.
@item 5.4 @tab Stop of adjacent SP inaccessible.
@item 5.5 @tab MSU discarded, routing data error.
@item 5.6 @tab User Part Unavailable MSU transmitted.
@item 5.7 @tab User Part Unavailable MSU received.
@item 5.8 @tab TFC received.
@end multitable

@subsubheading MTP signalling traffic distribution (signalling route utilization).
@multitable @columnfractions .10 .90
@item 6.1 @tab Number of SIF and SIO octets received with given OPC (set) at an SEP.
@item 6.2 @tab Number of SIF and SIO octets transmitted with given DPC (set) at an SEP.
@item 6.3 @tab Number of SIF and SIO octets handled with given SI (set) at an STP.
@item 6.4 @tab Number of SIF and SIO octets received with given OPC (set) at an SEP.
@item 6.5 @tab Number of SIF and SIO octets transmitted with given DPC (set) at an SEP.
@item 6.6 @tab Number of SIF and SIO octets handled with given OPC set, DPC set and SI set, at an STP.
@item 6.7 @tab Number of MSUs handled with given OPC set, DPC set and SI set, at an STP.
@end multitable

Operational measurements that collect statistics over a time period may have high or low water mark
thresholds set to generate alarms.  Operational measurements marked as on-occurrence or
first-and-delta may also generate alarms.  In addition to these operational measurements, events
within the MTP protocol providing for management events can also generate alarms.

@node ISUP Operational Measurements
@subsection ISUP Operational Measurements
@cindex ISUP Operational Measurements

Each logical node providing an ISUP layer will provide complete Q.752 operational measurements for
the ISUP layer it provides.  In the proposed SS7/SIGTRAN/ISUP Security Network logical nodes
(@pxref{Proposed Logical Nodes}), only the LEC SSPs (nodes @samp{A}, @samp{B}, @samp{C}) and IC MGC
(node @samp{I}) provide an ISUP layer.  These coincide with ISUP traffic generation points (see
@figref{8}).

Operational measurements for ISUP listed in Q.752 are as follows:

@subsubheading ISDN User Part availability.
@multitable @columnfractions .10 .90
@item 10.1 @tab Start of local ISUP unavailable, failure.
@item 10.2 @tab Start of local ISUP unavailable, maintenance made busy.
@item 10.3 @tab ISUP available.
@item 10.4 @tab Total duration ISUP available.
@item 10.5 @tab Start of local ISUP congestion.
@item 10.6 @tab Stop of local ISUP congestion.
@item 10.7 @tab Duration of local ISUP congestion.
@item 10.8 @tab Start of remote ISUP unavailable.
@item 10.9 @tab Stop of remote ISUP unavailable.
@item 10.10 @tab Duration of remote ISUP unavailable.
@item 10.11 @tab Start of remote ISUP congestion.
@item 10.12 @tab Stop of remote ISUP congestion.
@item 10.13 @tab Duration of remote ISUP congestion.
@end multitable

@subsubheading ISDN User Part utilization.
@multitable @columnfractions .10 .90
@item 11.1 @tab Total ISUP messages sent.
@item 11.2 @tab Total ISUP messages received.
@end multitable

@subsubheading ISDN User Part errors.
@multitable @columnfractions .10 .90
@item 12.1 @tab No acknowledgement for circuit reset within T17.
@item 12.2 @tab No GRA received for GRS within T23.
@item 12.5 @tab RLC not received within T5.
@item 12.6 @tab Release initiated due to abnormal conditions.
@item 12.7 @tab Circuit BLO (excessive errors detected by CRC).
@item 12.8 @tab Missing blocking acknowledgement in CGBA for previous CGB.
@item 12.9 @tab Missing unblocking acknowledgement in CGUA for previous CGU.
@item 12.10 @tab Abnormal blocking acknowledgement in CGBA for previous CGB.
@item 12.11 @tab Abnormal blocking acknowledgement in CGUA for previous CGU.
@item 12.12 @tab Unexpected CGBA with abnormal blocking acknowledgement.
@item 12.13 @tab Unexpected CGUA with abnormal unblocking acknowledgement.
@item 12.14 @tab Unexpected BLA with abnormal blocking acknowledgement.
@item 12.15 @tab Unexpected UBA with abnormal unblocking acknowledgement.
@item 12.16 @tab No BLA received for BLO within T13.
@item 12.17 @tab No UBA received for UBL within T15.
@item 12.18 @tab No CGBA received for CGB within T19.
@item 12.19 @tab No CGUA received for CGU within T21.
@item 12.20 @tab Message format error.
@item 12.21 @tab Unexpected message received. 
@item 12.22 @tab Release due to unrecognized information.
@item 12.23 @tab Inability to release a circuit.
@end multitable

Operational measurements that collect statistics over a time period may have high or low water mark
thresholds set to generate alarms.  Operational measurements marked as on-occurrence or
first-and-delta may also generate alarms.  In addition to these operational measurements, events
within the MTP protocol providing for management events can also generate alarms.

Most switches also perform trunk peg counts and operational measurements on a per-member basis for
the purpose of trunk group sizing and traffic engineering.

@node Special Studies
@subsection Special Studies
@cindex Special Studies

On most switches, operational measurements associated with the translation process within the
switchiing element can also be collected.  These operational measurements are based on originating
and termination classes of service, class of service screening, trunk group screening, and call
treatment.  In addition to operational measurements, billing records are generated that contain call
detail records on a per-call basis for billable calls.  For the purpose of traffic engineering or
other traffic studies, it is possible to institute special studies that collect information
according to a study criteria.  It is also possible to collect call detail records and call traces
on a specified criteria.  Alarms can be generated on statistics high and low water marks as well as
a result of any number of events determined through translations on the switching element.  Alarms
notify local maintenance personnel with both audible and visual alarms on a LADS (local alarm
display system) and are logged locally and remotely.  Alarms also notify remote NOC (Network
Operations Control) and security systems and personnel.

The SS7/SIGTRAN/VoIP Security Network logical nodes that provide the ISUP call control will also
provide the ability to perform special studies related to the load traffic for the purposes of
determining the effected of experiments on the system.

@node Distributed Test Harness
@section Distributed Test Harness
@cindex Distributed Test Harness

A distributed test harness will be provided for running experiments on the SS7/SIGTRAN/VoIP Security
Network.  Each of the logical nodes in the system will be equipped with and run a network
distributed copy of the @cite{TETWare 3.3h} distributed test system available from the
@url{http://www.opengroup.org/,OpenGroup}.

On logical nodes equipped with ISUP and subscriber call load generation (nodes A, B, C, I),
@cite{TETWare} will provide access to the MTP and ISUP operational measurements, alarms, maintenance
logs, special studies and
other call completion information for collecting and reporting the impact on call processing of
various experiments.  On the remaining logical nodes providing only SS7/SIGTRAN capabilities (nodes
D, E, F, G, H), @cite{TETWare} will provide access to the MTP operational measurements, alarms,
maintenance logs, and other SS7 system information for collecting and reporting the impact on SS7
signalling of various experiments.

On both sets of logical nodes (nodes A through I, but not J), @cite{TETWare} will provide a
scripting and @samp{C}-language execution environment for the execution of experiments.  The
administrative node (node J) is responsible for providing access to the entire SS7/SIGTRAN/VoIP
Security Network for the synchronization and coordination of experiments.

Experiments will typcially componsed of the following:

@enumerate
@item @dfn{Hypothetical Attack Script.}

The hypothetical attack script corresponds to a test case within the @cite{TETWware} framework and
provides a mechanism for executing an experiment against a specific logical node in the
SS7/SIGTRAN/VoIP Security Network.
@item @dfn{Call processing monitors.}

Call processing monitors collect information from operational measurements and studies on the
operation of call processing to provide a results report on the impact of the experiment for the
purposes of report generation.
@item @dfn{SS7 signalling monitors.}

SS7 signalling monitors collect information from operational measurements on the operation of SS7
signalling to provide a results report on the impact of the experiment for the purposes of report
generation.
@end enumerate

@subsection Hypothetical Attack Script

A hypothetical attack script is the portion of an experiment that represents an executable that has
been invoked by an attacker of the system.

Attack scripts can be run on any node in the system under the @cite{TETWare} server running on each
node.  When run on a node in the system (except node J), it is presumed that the node has somehow
been compromised and that some level of access has been afforded the attacker.  When run on node J,
it is presumed that the attack is being launched from an machine external to the system.

As they are not connected to a public IP network (i.e. they are separated from public networks by an
air gap), it is not a valid assumption that nodes A, B, C, D and E are compromised and experiments
that execute attack scripts on these nodes are of no value.

Although they are attached via IP based networks other than the administrative LAN, due to the
specialized nature of the interconnecting SIGTRAN network, it is a weak assumption that nodes F, G
and H are compromised and experiments that execute attack scripts on these nodes are of low value.

Node I is directly or indirectly attached to a public IP network.  As a result, it could be
considered compromised if adequate security procedures are not assumed.  Therefore, attack scripts
executed on nodes I or J are of the greatest value.

@subsection Call Processing Monitors

Monitoring of call processing with operational measurements statistics collection, event reporting,
alarm generation, logging and special studies will be integrated into @cite{TETWare} to provide for
report generation of experiment (test case) results on systems running ISUP traffic generators
(logical nodes A, B, C and H).

@subsection SS7 Signalling Monitors

@node Node Configuration
@chapter Node Configuration
@cindex Node Configuration

@menu
* Logical Nodes::
* Physical Nodes::
@end menu

Node configuration is separated for discussion into logical and physical nodes:

@subsubheading Logical Nodes
Logical nodes represent a functional grouping of SS7 network element capabilities into a logical
network element that is normally deployed separately within the SS7 network.

@subsubheading Physical Nodes
Physical nodes represent a separate and distinct computing platform and the associated network
interfaces that are used by logical network elements assigned to the physical platform.

@node Logical Nodes
@section Logical Nodes
@cindex Logical Nodes

@menu
* LEC SSP Nodes A, B and C::
* LEC STP Nodes D and E::
* IC STP/SG Nodes F and G::
* IC MGC/SG Node H::
* IC MGC/ASP Node I::
* Administrative Node J::
@end menu

Logical nodes provide for functional grouping of network element capabilities into a virtual network
element that is independent of the executional platform on which the virtual network element
executes.

This section details the configuration of the following logical nodes:

@itemize @bullet
@item LEC SSP Nodes A, B and C.
@item LEC STP Nodes D and E.
@item IC STP/SG Nodes F and G.
@item IC MGC/SG Node H.
@item IC MGC/ASP Node I.
@item Administrative Node J.
@end itemize

@node LEC SSP Nodes A, B and C
@subsection LEC SSP Nodes A, B and C
@cindex LEC SSP Nodes A, B and C

Interconnection of the LEC SSP Nodes A, B and C are illustrated in @figref{N-1}.

@figure{labnode1,N-1,LEC SSP Nodes A B and C}

@subsubheading Overview

@multitable @columnfractions .25 .75
@item @dfn{TDM Interface:} @tab 2 T1 spans of SS7 narrow-band signalling links.
@item @dfn{Network Interface:} @tab Administrative LAN.
@item @dfn{Protocol Components:} @tab MTP and ISUP.
@item @dfn{Load Generation:} @tab 2,500,000 subscriber lines, 1,000,000 BHCA.
@item @dfn{Inter-Machine Trunks:} @tab 3 effective trunk groups of 1,544 T1s each.
@item @dfn{Op. Measurements:} @tab MTP Q.752 Operational Measurements.
@item @tab ISUP Q.752 Operational Measurements.
@item @tab Special Studies.
@item @dfn{Test Harness:} @tab @dfn{TETWare} Distributed Node
@end multitable

@subsubheading Description

As listed in @tabref{T-1}, logical nodes A, B and C are LEC SSPs that are interconnected to each
other (with Inter-Machine Trunks, IMTs) as well as to the IC SSP/MGC (node I).  Signalling
connections are made between each of nodes A, B and C to each of the LEC STPs (nodes D and E).
These nodes have only @dfn{Administrative LAN} connection.

Each node is equipped with an Signalling End Point (SEP) SS7 stack including the Message Transfer
Part (MTP) and ISDN User Part (ISUP).  Load generation is provided for 2,500,000 subscribers
(requiring 250 NXX's).

Each node requires 2 T1 spans on 1 T400P-SS7 interface card.

Each node has 3 inter-machine trunk groups, one each to the two other LEC SSP nodes and one to the
IC MGC.  These inter-machine trunks are not implemented (to save on system cost).@footnote{1,000,000
BHCA equates to about 4630 T1s of bearer circuits which would require approximately $1,000,000.00
worth of equipment to fully realize.}  Instead, signalling load generation at equivalent levels is
provided.

Line-side signalling protocols are not used.  Line-side subscribers are simulated using load
generation.

Each node is connected only to the @dfn{Administrative LAN}.

@subsubheading Physical Node Mapping

The preferred physical node mapping for logical nodes A, B and C is to provide a separate physical
node for each logical node.  However, in a minimal configuration, logical nodes A, B and C could be
mapped onto a single physical node equipped with 2 T400P-SS7 interface cards.

@node LEC STP Nodes D and E
@subsection LEC STP Nodes D and E
@cindex LEC STP Nodes D and E

Interconnection of the LEC STP Nodes D and E are illustrated in @figref{N-2}.

@figure{labnode2,N-2,LEC STP Nodes D and E}

@subsubheading Overview

@multitable @columnfractions .25 .75
@item @dfn{TDM Interface:} @tab 7 T1 spans of SS7 narrow-band signalling links.
@item @dfn{Network Interface:} @tab Administrative LAN.
@item @dfn{Protocol Components:} @tab MTP with Enhanced/Border GWS.
@item @dfn{Load Generation:} @tab None.
@item @dfn{Inter-Machine Trunks:} @tab None.
@item @dfn{Op. Measurements:} @tab MTP Q.752 Operational Measurements
@item @dfn{Test Harness:} @tab @dfn{TETWare} Distributed Node
@end multitable

@subsubheading Description

As listed in @tabref{T-1}, logical nodes D and E are LEC STPs that are interconnected to each other
with SS7 C-links, connected to each of nodes F and G with SS7 B/D-links, and connected to node H
with A/E-links.  Each node D and E are connected to each of LEC SSP nodes A, B and C with SS7
A-links.

Each node requires 7 T1 spans total on 2 T400P-SS7 interface cards.

Each node is connected only to the Adminstrative LAN.

@subsubheading Physical Node Mapping

The preferred physical node mapping for logical nodes D and E is to provide a separate physical node
for each logical node.  Because each logical node requires 2 T400P-SS7 cards, a minimal configuration 
still requires one physical node for each logical node for 2U chassis that can only support 2 PCI
expansion cards.  For server chassis that can support 4 PCI expansion cards, these two logical nodes
could be mapped onto a single physical node.

@node IC STP/SG Nodes F and G
@subsection IC STP/SG Nodes F and G
@cindex IC STP/SG Nodes F and G

Interconnection of the IC STP/SG Nodes F and G are illustrated in @figref{N-3}.

@figure{labnode3,N-3,IC STP/SG Node F and G}

@subsubheading Overview

@multitable @columnfractions .25 .75
@item @dfn{TDM Interface:} @tab 4 T1 spans of SS7 narrow-band signalling links.
@item @dfn{Network Interface:} @tab Administrative LAN.
@item @tab SIGTRAN signalling network.
@item @dfn{Protocol Components:} @tab MTP, M3UA.
@item @dfn{Load Generation:} @tab None.
@item @dfn{Inter-Machine Trunks:} @tab None.
@item @dfn{Op. Measurements:} @tab MTP Q.752 Operational Measurements
@item @dfn{Test Harness:} @tab @dfn{TETWare} Distributed Node
@end multitable

@subsubheading Description

As listed in @tabref{T-1}, logical nodes G and F are IC STP/SGs that are interconnected to each
other with SS7 C-links, connected to each of nodes D and E with SS7 B/D-links, connected to node H
with SS7 A-links, and connected to node H with SIGTRAN M3UA.

Each node requires 4 T1 spans total on 1 T400P-SS7 interface card.

Each node is connected to the Administrative LAN as well as the SIGTRAN Signalling Network.  The
SIGTRAN Signalling Network includes the associated pair SG as well as the SG node H and the ASP node
I.  Each of these SG nodes provide access to the ASP node I.

@subsubheading Physical Node Mapping

The preferred physical node mapping for logical nodes F and G is to provide a separate physical node
for each logical node.  As a minimal system, these logical nodes could be mapped onto a single
physical node.  For server chassis that can support 3 PCI expansion cards, logical node H could also
be mapped onto the same physical node.

@node IC MGC/SG Node H
@subsection IC MGC/SG Node H
@cindex IC MGC/SG Node H

Interconnection of the IC SSP/SG Node H is illustrated in @figref{N-4}.

@figure{labnode4,N-4,IC SSP/SG Node H}

@subsubheading Overview

@multitable @columnfractions .25 .75
@item @dfn{TDM Interface:} @tab 4 T1 spans of SS7 narrow-band signalling links.
@item @dfn{Network Interface:} @tab Administrative LAN.
@item @tab SIGTRAN signalling network.
@item @dfn{Protocol Components:} @tab MTP, M2PA, M2UA, and M3UA.
@item @dfn{Load Generation:} @tab None.
@item @dfn{Inter-Machine Trunks:} @tab None.
@item @dfn{Op. Measurements:} @tab MTP Q.752 Operational Measurements
@item @dfn{Test Harness:} @tab @dfn{TETWare} Distributed Node
@end multitable

@subsubheading Description

As listed in @tabref{T-1}, logical node H is an IC SSP/SG that is interconnected to each of nodes D
and E with SS7 E-links and each of nodes F and G with SS7 A-links.

The node requires 4 T1 spans total on 1 T400P-SS7 interface card.

The node is connected to the Administrative LAN as well as the SIGTRAN Signalling Network.

The SIGTRAN Signalling Network includes the associated pair of SGs (nodes F and G) as well as the
ASP node I.  Using M2UA or M3UA, this SG node provides access to the ASP node I.  Using M2PA, the SG
node is connected to M2PA peer SG nodes F and G.

@subsubheading Physical Node Mapping

The preferred physical node mapping for logical node H is to provide a separate physical node for
the logical node.  As a minimal system, when server chassis can support 3 PCI expansion cards,
logical node H could be mapped onto the same physical node as logical nodes F and G.

@node IC MGC/ASP Node I
@subsection IC MGC/ASP Node I
@cindex IC MGC/ASP Node I

Interconnection of the IC MGC/ASP Node I is illustrated in @figref{N-5}.

@figure{labnode5,N-5,IC MGC/ASP Node I}

@subsubheading Overview

@multitable @columnfractions .25 .75
@item @dfn{TDM Interface:} @tab None.
@item @dfn{Network Interface:} @tab Administrative LAN.
@item @tab SIGTRAN signalling network.
@item @tab VoIP control network.
@item @tab VoIP signalling network.
@item @dfn{Protocol Components:} @tab MTP, ISUP, M2PA, M2UA, and M3UA.
@item @dfn{Load Generation:} @tab 2,500,000 subscriber lines.
@item @dfn{Inter-Machine Trunks:} @tab 1 effective trunk groups of 1,544 T1s.
@item @dfn{Op. Measurements:} @tab MTP Q.752 Operational Measurements
@item @tab ISUP Q.752 Operational Measurements
@item @tab Special Studies.
@item @dfn{Test Harness:} @tab @dfn{TETWare} Distributed Node
@end multitable

@subsubheading Description

As listed in @tabref{T-1}, logical node I is an IC MGC/ASP that is interconnected to each of nodes
F, G and H with SIGTRAN signalling.

The node does not require SS7 narrow-band signalling link interface.

The node is connected to the Administrative LAN as well as the SIGTRAN Signalling Network.  The node
also connects to Media Gateways (MGs) using the VoIP Control Network and exchanges signalling over
the backbone VoIP Signalling Network.

The SIGTRAN Signalling Network includes the associated pair of SGs (nodes F and G) as well as the
SSP/SG node H.  M2UA or M3UA access is provided by SG nodes F and G.  M2PA peer access is provided
by SG nodes F and G.  M2UA or M3UA access may also be provided by SG node H.

Attached Media Gateways (MGs) have 3 inter-machine trunk groups, one to each of the LEC SSP nodes
(nodes A, B, C).  These inter-machine trunks are not implemented (to save on system
cost).@footnote{1,000,000 BHCA equates to about 4630 T1s of bearer circuits and over 100,000 RTP
sessions which would require over $1,000,000.00 worth of equipment.}  Instead, signalling load
generation at equivalent levels is provided.

Line-side signalling protocols (H.323, SIP) are not used.  Line-side subscribers are simulated using
load generation.

@subsubheading Physical Node Mapping

The preferred physical node mapping for logical node I is to provide a separate physical node for
the logical node.  As a minimal system, logical node I could be combined with the administrative
node J on the same physical node.

@node Administrative Node J
@subsection Administrative Node J
@cindex Administrative Node J

Interconnection of the Administrative Node J is illustrated in @figref{N-6}.

@figure{labnode6,N-6,Administrative Node J}

@subsubheading Overview

@multitable @columnfractions .25 .75
@item @dfn{TDM Interface:} @tab None.
@item @dfn{Network Interface:} @tab Administrative LAN.
@item @tab SIGTRAN Signalling Network.
@item @dfn{Protocol Components:} @tab M2PA, M2UA, M3UA.
@item @dfn{Load Generation:} @tab None.
@item @dfn{Inter-Machine Trunks:} @tab None.
@item @dfn{Op. Measurements:} @tab None (collection only).
@item @dfn{Test Harness:} @tab @dfn{TETWare} Distributed Master.
@end multitable

@subsubheading Description

As listed in @tabref{T-1}, logical node J isa n Administrative node interconnected to other nodes
in the system via the @dfn{Administrative LAN}.

The node does not require an SS7 narrow-band signalling link interface.

The node is connected to the Administrative LAN as well as the SIGTRAN Signalling Network.  The
purpose of the SIGTRAN Signalling Network is to provide for experiments that wish to spoof into that
network.  The node will provide the M2PA, M2UA and M3UA SIGTRAN protocols for use by attack scripts.

@subsubheading Physical Node Mapping

The preferred physical node mapping for logical node J is to provide a separate physical node for
the logical node.  As a minimal system, logical node J could be combined with the MGC/ASP node I on
the same physical node.

@node Physical Nodes
@section Physical Nodes
@cindex Physical Nodes

Logical nodes can be mapped into physical nodes in two ways:

@enumerate
@item @dfn{Preferred Mapping.}

Preferred mapping is to provide a separate physical node for each logical node.
@item @dfn{Minimalist Mapping.}

Minimalist mapping combines multiple logical nodes onto each physical node.
@end enumerate

@menu
* Preferred Physical Node Mapping::
* Minimal Physical Node Mapping::
@end menu

@node Preferred Physical Node Mapping
@subsection Preferred Physical Node Mapping
@cindex Preferred Physical Node Mapping

The preferred mapping of logical nodes onto physical nodes is to provide a separate physical node
to host each logical node.

@tabfig{labpref,T-2,Preferred Physical Nodes}

The preferred mapping allows the use of 2U server chassis that can support a maximum of 2 PCI
expansion cards.  The mapping requires 8 server chassis and 10 T400P-SS7 cards.

@node Minimal Physical Node Mapping
@subsection Minimal Physical Node Mapping
@cindex Minimal Physical Node Mapping

The minimal mapping of logical nodes onto physical nodes combines like-nodes with complementary
interface requirements onto the same physical node.

@tabfig{labmini,T-3,Minimal Physical Nodes}

The minimalist mapping requires 2U or 4U server chassis that must support a maximum of 4 PCI
expansion cards.  The mapping requires only 4 server chassis and 9 T400P-SS7 cards.

@node Hardware Specification
@chapter Hardware Specification
@cindex Hardware Specification

@menu
* Hardware Requirements::
* Site Requirements::
* System Software::
* Capacity and Sizing::
* Hardware Manifest::
@end menu

@node Hardware Requirements
@section Hardware Requirements
@cindex Hardware Requirements

@menu
* Compute Hardware::
* TDM Interface Cards::
* Network Interface Cards::
* Direct Access Storage Devices::
@end menu

@node Compute Hardware
@subsection Compute Hardware
@cindex Compute Hardware

As an efficiency, commodity compute hardware can be used in the SS7/SIGTRAN/VoIP Security Network.

Carrier-grade compute platforms provide redundant processors in hot-swap serviceable, fault-tolerant
architectures with the highest level of availability achievable in the industry.  However,
carrier-grade compute platforms normally correct for transmission facility outages that are the
effect of physical or atmospheric changes.  Whether a system protects against these items are of no
moment in the investigation of signalling system security, and, thus, commodity compute platforms
can be used, lowering the overall system cost significantly.

Carrier-grade compute platforms@footnote{Even the commodity based NEBS-3 compliant 4U servers HP
c3310 and IBM x343 are normally equipped with -48 VDC power.} are normally equipped to operate on 48
VDC power instead of commercial 110 VAC or 220 VAC power.  With the sole exception of the Central
Office environment, providing a 48 VDC power source can be far more expensive than normal 110/220
VAC power.  Thus, the use of commodity compute platforms further lowers the overall system cost.

Because of the need for specialized interface cards to provide interface to the SS7 signalling
network using narrow-band and high-speed SS7 links, the compute hardware cannot be reduced to a
commodity blade processor.  2U or 4U rack-mount systems are required to house the necessary
interface cards and provide sufficient access for the associated cabling.

@figuresized{rack,9,Rack-mount Enclosures,3.0in}

@figuresized{rack2u,9a,2U Rack-mount Enclosures,4.0in}

A disadvantage of using commodity compute platforms powered by 110 VAC and using high-performance
Intel or AMD processors is rack space, noise, cooling, power consumption and preventative
maintenance.  Large scale platforms built with commodity 1U or 2U servers require a far greater
amount of rack space, a heavier cooling load; because they are forced air cooled, a generate a far
greater amount of noise (than the carrier-grade convection cooled systems), consume much more power
(primarily due to processors and the necessary cooling fans), and require a higher degree of
preventative maintenance (forced air cooling requires filter packs to be changed, and otherwise
results in packing the equipment with dust).

There are three suitable 2U rack mount servers for the SS7/SIGTRAN/VoIP Security Network physical
nodes:

@subsubsection Dell PowerEdge 2850 2U Rack-mount Server

The Dell PowerEdge 2850 2U Rack-mount Server@footnote{Dell does not seem to provide a NEBS-3
compilant solution.} is a rack mount optimized E7820 chip set based solution from Dell.  The server
is illustrated in @figref{9c}.

@figuresized{pe2850,9c,Dell PowerEdge 2850 2U Rack-mount Server,4.5in}


@subsubheading Operating System Support
@itemize @bullet
@item Red Hat Linux Enterprise v2.1
@item Red Hat Linux Enterprise v3
@item Red Hat Linux Enterprise v3 AS EM64T
@end itemize

@subsubheading Features
@itemize @bullet
@item 2U rack mount
@item Intel Xeon Processor up to 3.80 GHz/800 MHz FSB and Dual-Core Intel Xeon Processor 2.80 GHz
@item 1 or 2 processors
@item 2MB L2 cache per processor core
@item 12GB 400MHz DDR2, 6 DIMM slots
@item 3 PCI-X slots (64bit/133MHz) or two PCI-E (1x4 and 1x8 lane) and one PCI-X slot (64-bit/100MHz)
@item 6 hot-swap drive bays
@item 1.8TB maximum Ultra320 SCSI storage
@item integrated dual Gigabit Ethernet (Intel PRO/1000 MT or MF)
@item 1 or 2 700W power supplies
@item hot swappable power supply, fans and hard disk drives
@item optional RAID dual channel ROMB (PERC 4e/Di), PERC 4/DC and PERC 4e/Dc adapters
@item optional PowerVault 110T internal tape driver (consumes 1 drive bay)
@item IPMI, optional slot-free DRAC 4/I management
@item E7820 Chip Set
@end itemize

@subsubheading Target System Cost
@itemize @bullet
@item $3,892.00 - low end system@footnote{The low end system is two 3.2GHz Xeon, 2GB SDRAM, RAID 1 2 x 15k RPM 38GB SCSI, redundant power.}
@item $5,562.00 - high end system@footnote{The high end system is two 2.8GHz Dual-Core Xeon, 4GB SDRAM, RAID 5 3 x 15k 38GB SCSI, redundant power.}
@end itemize

@subsubheading Advantages
@itemize @bullet
@item 3 full profile PCI-X slots accepting Universal PCI cards.
@item Integrated slot-less RAID.
@item Lowest cost.
@end itemize

@subsubheading Disadvantages
@itemize @bullet
@end itemize

@subsubheading Applications

The Dell servers are the lowest cost for high end systems making it a good solution choice.  The IBM
systems are only slightly more expensive; however, and provide additional memory and PCI-X expansion
capabilities over the Dell solution.  One factor that could decide between the two are the types of
systems that UNT is used to.

The Dell servers are, nevertheless, a very usable solution for all but the minimal logical node to
physical node mapping (see @tabref{T-3}): the servers simply cannot house the necessary interface
cards for the full minimal solution.  If physical node 2 (as shown in @tabref{T-3}) were to be split
into two physical nodes, then the expansion capabilities of the Dell servers would be just
sufficient; however, it would also take splitting physical node 3 in the minimal system (as shown in
@tabref{T-3}) to ensure that one PCI-X expansion slot remains available in each physical node.
Therefore, a reasonable minimal system would require 6 servers at $3,892.00, or $23,352.

Full blown system cost with the Dell servers would run about $44,496, making the Dell solution more
attractive for the full blown system.  The full blown system will be cost estimated using the Dell server
solution.

@subsubsection IBM xSeries x346 2U Rack-mount Server

The IBM xSeries x346 2U Rack-mount Server@footnote{IBM also provides a NEB-3 compatible telco-grade
server, the x343, however, this server is quite expensive by comparison to the x346 (about three (3)
times the cost) and is only provdided in a -48VDC power option.} is a rack mount optimized E7820
chip set based solution from IBM.  The server is illustrated in @figref{9b}.

@figuresized{x346,9b,IBM xSeries x346 2U Rack-mount Server,4.5in}

@subsubheading Operating System Support
@itemize @bullet
@item Red Hat Linux
@item SuSE Linux
@end itemize

@subsubheading Features
@itemize @bullet
@item 2U rack mount
@item Intel Xeon Processor up to 3.80 GHz/800 MHz FSB and Dual-Core Intel Xeon Processor 2.80 GHz
@item 1 or 2 processors
@item 2MB L2 cache per processor core
@item 16GB PC2-3200 DDR2, 8 DIMM slots
@item 4 PCI-X@footnote{Note that 2 PCI-X slots are normal profile and the other 2 PCI-X slots are
low-profile slots.} or 2 PCI-X and 2 PCI-Express
@item 6 hot-swap drive bays
@item 1.8TB maximum Ultra320 SCSI storage
@item integrated dual Gigabit Ethernet (Broadcom NetXtreme 5721)
@item 1 or 2 625W power supplies
@item hot swappable power supply, fans and hard disk drives
@item integrated RAID-0/1, and optional RAID-5 (on daughter card)
@item optional 36/72GB DDS5 internal tape drive (occupies 2 drive bays)
@item IPMI, optional slimline remote supervisor adaptor II management
@item E7820 Chip Set
@end itemize

@subsubheading Target System Cost
@itemize @bullet
@item $4,125.00 - low end system@footnote{The low end system is two 3.2GHz Xeon, 2GB SDRAM, RAID 1 2 x 15k RPM 38GB SCSI, redundant power.}
@item $6,238.00 - high end system@footnote{The high end system is two 2.8GHz Dual-Core Xeon, 4GB SDRAM, RAID 5 3 x 15k 38GB SCSI, redundant power.}
@end itemize

@subsubheading Advantages
@itemize @bullet
@item Provides 4 PCI-X expansion slots accepting Universal PCI expansion cards, although two are
full profile and two are low-profile, this provides one additional PCI-X expansion slot over the
other featured servers.
@item RAID 5 slot-less upgrade.
@item More flexible memory arrangement. (8 DIMM slots versus 6 on other systems.)
@item Comparable cost on low-end system.
@end itemize

@subsubheading Disadvantages
@itemize @bullet
@item More costly that equivalent Dell solution on high-end system.
@end itemize

@itemize @bullet
@item Will not accept 3 full profile Universal PCI expansion cards.
@end itemize

@subsubheading Applications

The IBM system costs about the same as the Dell solution for low-end systems but provides better
expansion for system upgrade.  Unfortunately, the 4 PCI-X expansion slots are not all full length;
therefore, not even the IBM servers will provide the minimal logical to physical node mapping.
Nevertheless, the 4 PCI-X slots will make reconfiguring the system for VoIP experiments easier
because the addition of one or two additional GigE LAN cards is possible.

The IBM systems are a very usable solution, an, even though they cannot provide for the full minimal
logical node to physical node mapping (see @tabref{T-3}), when configured for 6 server nodes the
cost is $24,750 but each server will have 2 low-provide PCI-X expansion slots and 4 DIMM slots
available per server versus the Dell solution which would only have 1 full profile PCI-X expansion
slot and 2 DIMM slots available per server.

Full blown system cost with the IBM servers would run about $49,904, making the Dell solution more
attractive for the full blown system.  The minimal system will be cost estimated using the IBM solution.

@subsubsection HP Proliant DL380 G4 2U Rack-mount Server

The HP (formerly Compaq) Proliant DL380 G4 2U Rack-mount Server@footnote{HP also provides the NEBS-3
compatible telgo-grade server, the c3310, however, this server is only available in 1-way Xeon
configurations, consumes 4U of rack space, is available with AC power, but not support dual
integrated Gigabit Ethernet and is quite costly by comparison to the DL380 G4.}

@figuresized{dl380g4,9d,HP Proliant DL380 G4 2U Rack-mount Server,4.0in}

@subsubheading Operating System Support
@itemize @bullet
@item Red Hat Linux
@item Novell (SuSE Linux)
@end itemize

@subsubheading Features
@itemize @bullet
@item 2U rack mount
@item Intel Xeon Processor up to 3.80 GHz/800 MHz FSB and Dual-Core Intel Xeon Processor 2.80 GHz
@item 1 or 2 processors
@item 2MB L2 cache per processor core
@item 12GB 2-processor interleaved 400MHz DDR2 SDRAM, 6 DIMM slots
@item 3 full length PCI-X expansion slots (optional PCI-E)
@item 6 hot-swap driver bays
@item 1.8TB Ultra320 SCSI (optional SAS) storage
@item integrated dual Gigabit Ethernet (NC7782)
@item 575W hot-plug power supply
@item optional redundant fan
@item integrated Smart Array 6i RAID-0/1 and RAID 5 controller
@item optional DAT (40 or 72) tape driver (consumes 1 drive bay)
@item IPMI, HP integrated lights-out management
@item E7820 Chip Set
@end itemize

@subsubheading Target System Cost
@itemize @bullet
@item $4,433.00 - low end system@footnote{The low end system is two 3.2GHz Xeon, 2GB SDRAM, RAID 1 2 x 15k RPM 38GB SCSI, redundant power.}
@item $6,721.00 - high end system@footnote{The high end system is two 2.8GHz Dual-Core Xeon, 4GB SDRAM, RAID 5 3 x 15k 38GB SCSI, redundant power.}
@end itemize

@subsubheading Advantages
@itemize @bullet
@item 3 full profile PCI-X slots accepting Universal PCI cards.
@item Integrated slot-less RAID 5.
@end itemize

@subsubheading Disadvantages
@itemize @bullet
@item Highest cost.
@end itemize

@subsubheading Applications

The HP server solutions are comparable in features to the Dell systems (they have the same 3 PCI-X
expansion slots and only 6 DIMM slots), however, they carry a significantly higher cost.  Minimal
system costs would be $26,598 and full blown system cost would be $53,768.  The IBM solution is more
attractive for the low-end minimal system of 6 nodes, and the Dell solution is more attractive for
the high-end full blown system of 8 nodes.

The HP solution will not be included in either the minimal or full blown system costing.

@node TDM Interface Cards
@subsection TDM Interface Cards
@cindex TDM Interface Cards

The T400P-SS7 and E400P-SS7 cards are 4-span T1 or E1 cards manufactured by
@uref{http://www.govarion.com/, Varion}.  These cards were previously manufactured by
@uref{http://www.digium.com/, Digium}.
@figref{10} shows a picture of a T400P-SS7 card.

@figuresized{v400p,10,V400P-SS7 Card,3.0in}

The T400P-SS7 and E400P-SS7 cards have the lowest level of signalling performance due to the lack of
on-board HDLC functions.  Transfers to the host processor over the PCI bus use PCI I/O ports and
memory mapping.

@subsubheading Driver

These cards are supported by the X400-SS7 driver.

The function of the T/E400P-SS7 Channel driver is to provide for the termination of 2.048Mbps,
1.544Mbps, 64kbps and 56kbps digital paths.  This driver provides direct access to the channelized
or unchannelized T1 or E1 digital paths to OpenSS7 media and signalling protocol modules as well as
providing T1 or E1 management, framing, coding, alarms, and synchronization.

@subsubheading Features

Following are the features of the T400P-SS7 and E400P-SS7 cards:

@itemize @bullet
@item 4 T1 or E1 spans per card.
@item Dallas framer.
@cindex Dallas framer
@item PLX PCI 9030 PCI bus chip.
@item Xilinx Spartan XC2S50 processor.
@cindex Xilinx
@item Raw transfer of octets from framers to PCI bus.
@item Uses OpenSS7 Soft-HDLC engine for SS7, ISDN and ISO.
@item 96 channels per card (T400P-SS7)
@item 124 channels per card (E400P-SS7).
@item Full span addressable.
@end itemize

@subsubheading Target System Cost
@itemize @bullet
@item $699.00 Each
@item $625.00 5-9
@item $599.00 10+
@end itemize

@subsubheading Advantages

Following are the advantages of the T400P-SS7 and E400P-SS7 cards:

@itemize @bullet
@item Low cost.
@item PC Compatibility.
@item Released by Jim Dixon under the GNU Public License.
@item Open Hardware design: schematics, artwork and Gerber plots available.
@item Flash programmable Xilinx chip.
@item Field upgradable.
@item Supports a number of Open Source drivers.
@item Asterisk driver support.
@end itemize

@subsubheading Disadvantages

Following are the disadvantages of the T400P-SS7 and E400P-SS7 cards:

@itemize @bullet
@item Lower performance.
@item No on-board HLDC.
@item Cannot TDM switch on card or between cards, media channels must be transferred through host to switch between cards.
@item I/O Port and Memory Map instead of PCI DMA bus-mastering and burst transfers.
@item Does not run on high speed buses.
@item No integrated Ethernet for SIGTRAN and VoIP applications.
@item Synchronization per-card instead of per-system.
@end itemize

Ultimately, the performance limiting factor of the T400P-SS7 and E400P-SS7 cards is the bandwidth of
the PCI bus and the ability of the processor to perform Soft-HDLC and TDM switching in
software.@footnote{A 350MHz processor is capable of processing the bandwidth of an entire E400P-SS7
card (124 signalling links) with a combined link throughput of 8.192 Mbps.}
These cards are very cost-effective and can provide 64kbps SS7 links at average incremental
interface cost of less than $7.00 USD per signalling link.

@subsubheading Application

For the High-Performance SS7/SIGTRAN/VoIP Security Network nodes, the performance is more than
adequate.  A high grade 3.20 GHz 4-way 2U server should be capable of handling as many cards as can
be equipped in the chassis (2-4 cards totalling 248-496 narrow-band signalling links) with adequate
excess processor capacity available for background operations such as load generation and
operational measurements collection.

To allow for maximum system reconfiguration, each physical node will be equipped with 2 T400P-SS7
cards, each on an independent PCI bus.  The T400P-SS7 are universal 32-bit PCI bus cards and will
therefore operate on most PCI segments provided by popular server boards.  Each card provides
interface for 4 T1 spans

For TDM card cabling, @pxref{Digital Cross-Connect}.

The full blown system requires 10 cards at $599.00 for $5,990.00.  The minimal system only requires
9 cards at $625.00 is $5,625.  Because of the discount point at 10 cards, the relative costs of the
two systems is comparable as far as interface cards is concerned.

It is typical to run E1 systems in the laboratory when the pricing of E1 is the same as T1.  An
additional 7 channels per span or 28 channels per card are available on the 2.048 Mbps E1 spans over
those available on the 1.544 Mbps T1 spans.  However, if the system is even intended on
interconnecting with other North American systems, T1 cards should be used.

@node Network Interface Cards
@subsection Network Interface Cards
@cindex Network Interface Cards

A number of the physical nodes in the system require high-speed Ethernet network access to one (1) or
two (2) signalling or control networks, and lower-speed Ethernet access to one (1) administrative
network.  For maximum flexibility, server boards should be equipped with on-board dual
1000/100/10baseT autos-ensing Gigabit Ethernet, and either on-board 100baseT Ethernet or the addition
of a 1000/100/10baseT PCI interface card for administrative LAN termination.

Note that in the logical node configuration (@pxref{Logical Nodes}), only Node I requires more than
two LAN connections, and then only when VoIP security is to be investigated.  The server solutions
(@pxref{Compute Hardware}) all provide slot-less dual GigE, therefore, the physical node supporting
logical Node I, will be equipped with two additional GigE cards as required.  Note that Node I does
not require TDM interface cards (T400P-SS7) and has all three (or four in the case of IBM) PCI-X
expansion slots available.

@node Direct Access Storage Devices
@subsection Direct Access Storage Devices
@cindex Direct Access Storage Devices

Direct Access Storage Devices (DASD) can be quite expensive.  Most of the logical nodes in the
SS7/SIGTRAN/VoIP Security Network do not have a requirement for large capacity storage devices.
Speed is of more of an issue than size: 2 x 15,000 rpm 38GB SCSI devices in a RAID 1 arrangement or
3 x 15,000 rpm 38GB SCSI devices in a RAID 5 arrangement (striped and mirrored) is preferred.  RAID
1 will be provided on the low-end minimal IBM systems and RAID 5 provided on the high-end Dell
systems in the full blown configuration.

@node Site Requirements
@section Site Requirements
@cindex Site Requirements

@menu
* Equipment Enclosures::
* Synchronization::
* Time Source::
* Digital Cross-Connect::
* Network Switching::
* Noise::
* Cooling Requirements::
* Preventative Maintenance::
* Power Consumption::
@end menu

@node Equipment Enclosures
@subsection Equipment Enclosures
@cindex Equipment Enclosures

Equipment enclosure will be one (1) 19-inch rack mount enclosed equipment bay with elevation view as
illustrated in @figref{E-1} and with the plan view as illustrated in @figref{E-2}.

@figuresized{elev,E-1,Equipment Enclosure - Elevation View,3.5in}

The equipment enclosure requires approximately 8 square feet of clearance (2 feet deep by 4 feet
wide) at the read of the enclosure and approximately 12 square feet of clearance (3 feet deep by 4
feet wide) at the front of the enclosure.

@figuresized{floorplan,E-2,Equipment Enclosure - Plan View,1.75in}

@node Synchronization
@subsection Synchronization
@cindex Synchronization

TDM network synchronization will derive from logical nodes D and E (LEC STPs) in a hierarchal
synchronization arrangement.  Logical node D will provide master synchronization and logical node E
will slave from logical node D.  All other nodes will slave their synchronization on a per-span
basis from their attachment to either logical node D or E.

@node Time Source
@subsection Time Source
@cindex Time Source

Logical nodes D and E will also act as a time source for Network Time Protocol.  If UNT can provide
NTP network access to a high accuracy stratum clock, logical nodes D and E will slave off of that
NTP source via the Administrative LAN.  All other logical nodes in the system will synchronize their
local clocks to NTP broadcasts from logical nodes D and E on the Administrative LAN.

@node Digital Cross-Connect
@subsection Digital Cross-Connect
@cindex Digital Cross-Connect

To allow for system reconfiguration and monitoring access, the SS7/SIGTRAN/VoIP Security Network
platform will provide digital cross-connect capabilities.  To avoid costly Digital Automatic
Cross-Connect System (DACCS) equipment, digital cross-connect (DSX) will be performed on a per-span
(T1) basis (DSX-1).

One 56 position 19" rack-mount Bantam jack cross-connect panel (wire-wrap or RJ-48c rear) and
cabling will be required.  Each T400P-SS7 T1 interface card has 4 RJ-48c jacks.  Each physical node
contains 2 T1 cards for a total of 8 T1 spans per node.  Seven (7) physical nodes with eight (8)
spans each will require a 56 position DSX-1.  Cabling will be performed using clad category 5 UTP
with an RJ-48c connector at one end, and wire-wrap connection at the rear of the DSX for all 56
positions.  If minor growth of the system is anticipated, a 64 position DSX-1 should be provided
instead.

Twenty-eight (28) 18-inch long dual Bantam patch cables will be required initially to interconnect
the nodes in the system.

@node Network Switching
@subsection Network Switching
@cindex Network Switching

Network switching is required for 5 networks as follows:

@enumerate
@item Administrative LAN.
@item SIGTRAN Network.
@item VoIP Control Network.
@item VoIP Signalling Network.
@item VoIP Bearer Network.
@end enumerate

Either five (5) 8-port Gigabit Ethernet switches can be provided, or, for the purpose of reducing
the amount of equipment required, the @dfn{SIGTRAN} and @dfn{VoIP Control} networks can be combined
on a single switch, and the @dfn{VoIP Signalling} and @dfn{VoIP Bearer} networks can be combined on
a single switch, for a total of three (3) 8-port Gigabit Ethernet switches.  For signalling system
security experimentation, only 3 of the 5 switches are required (the @dfn{VoiP Signalling} and
@dfn{VoIP Bearer} LANs are not implemented).  For signalling system security experimentation, only 2
of the 3 switches are required.

These Ethernet switches should be rear mountable 19" rack mount 8-port (or higher) auto-sensing
1000/100/10baseT Gigabit Ethernet switches with 16-32 Gigabit capacity, RJ45, Category 5e UTP
compatible.

@node Noise
@subsection Noise
@cindex Noise

Although equipment enclosures can be equipped with doors that reduce noise from cooling fans inside
the equipment enclosure, cooling fans produce a considerable amount of noise.  Equipment enclosures
should not be located in an office environment that is frequently occupied by personnel.  Equipment
enclosures should be located in dedicated equipment rooms.

@node Cooling Requirements
@subsection Cooling Requirements
@cindex Cooling Requirements

Estimations of steady state operational cooling requirements (BTU-hours of A/C) are based on average
operating AC power consumption (i.e. heat dissipation).

@node Preventative Maintenance
@subsection Preventative Maintenance
@cindex Preventative Maintenance

Cooling fan filter packs must be inspected on a regular basis and changed as required.  Filter pack
lifetimes will depend upon the air quality of the environment in which the equipment is operated.

@node Power Consumption
@subsection Power Consumption
@cindex Power Consumption

Power consumption is estimated by adding the power consumption of the each of the components in the
equipment chassis.  All components are provided with 110/220VAC 60Hz power.  Servers consume 5 to 7
amps each at 110VAC.  Network switches consume 1 amp at 110VAC.  Total power consumption of the
minimal system under full operation is approximately 32amps@@110VAC or approximately 3 kilowatts;
the full blown system, 60amps@@110VAC or approximately 6 kilowatts.

@node System Software
@section System Software
@cindex System Software

OpenSS7 software requires a GNU/Linux operating system to be installed and operational on all
physical nodes.

@subsection Operating System Software

OpenSS7 protocol software will operation on almost any 2.4 or 2.6 kernel Linux distribution.  The
selected GNU/Linux distribution should meet the following criteria:

If the compute platforms are provided by UNT or a third party hardware vendor, the GNU/Linux
distribution selected should be one that is supported for the selected hardware.  Suggested
distributions are vendor-supported enterprise versions such as SuSE Enterprise Linux, or RedHat
Advanced Server.  Recent unsupported community distributions such as Debian, Fedora Core, or
OpenSuSE can also be considered.

OpenSS7 runs strict SELinux security policies on all platforms with remote logging and security
scans enabled.

The price of supported version of Red Hat Enterprise Server or SuSE 9 Enterprise Server are not
included in the price of the servers (@pxref{Compute Hardware}).  Suitable RHEL clones such as
Lineox or WhiteBox are sufficient and will save up to $9,000 on the minimal system and $12,000 on the
full blown system.

@subsection Network Element Software

OpenSS7 network element software consists of the latest non-public release of the OpenSS7-0.9.2
software package (currently at patch level D).  Software is installed and upgraded using RPM on
RPM-compatible systems (e.g. SuSE and RedHat) and DSCs on Debian systems.

Network element software will be custom configured for the SS7/SIGTRAN/VoIP Security Network
detailed in this design document.

@subsection Test Harness Software

Test harness software consists of a current load of the networked version of the @cite{TETWare}
package available in version 3.3h from the @url{http://www.opengroup.org/,OpenGroup} web server.

Components for use in @cite{TETWare} attack scripts (test cases) and components for collection of
operational measurements, events, alarms and studies for report generation, will be provided as part
of the OpenSS7-0.9.2 package.

@subsection Software Commissioning

Commissioning of node software will be priced separately.

@node Capacity and Sizing
@section Capacity and Sizing
@cindex Capacity and Sizing

Capacity of the SS7/SIGTRAN/VoIP network was sized to provide 4 million BHCA derived from a
theoretical 10 million residential subscriber base and the minimal system should be capable of
sustaining these traffic loads continuously.  The complete system should be capable of up to ten (10)
times that signalling traffic load, or 40 million BHCA on an effective subscriber base of 100
million residential subscribers.

However, available SS7 signalling links in the system will limit the load to 6 million BHCA at .40
Erlang per signalling link.  At 1 Erlang per signalling link, 12 million BHCA on a subscriber base
of 30 million residential subscribers could be possible.

The system will be loaded to the maximum capacity possible.

@node Hardware Manifest
@section Hardware Manifest
@cindex Hardware Manifest

The sub-sections that follow provide a summary manifest of the hardware components discussed in this
document for both the complete system and the minimal system.  Also provided is a cost estimate for
each system.

@menu
* Minimal System Manifest and Cost Estimate::
* Complete System Manifest and Cost Estimate::
@end menu

@node Minimal System Manifest
@subsection Minimal System Manifest and Cost Estimate
@cindex Minimal System Manifest
@cindex Minimal System Cost Estimate

Estimated costs are from manufacturer retail prices and does not include any hardware
commissioning costs, applicable taxes, nor shipping.  Software and software commissioning costs are
not included.

@multitable @columnfractions .05 .40 .15 .15 .25
@item @code{6} @tab IBM xSeries x346 Servers	@tab @code{$4,125.00} @tab @code{$24,750.00}
@item @code{1} @tab 32U rack mount enclosure	@tab @code{$1,000.00} @tab @code{$*1,000.00}
@item @code{2} @tab 8-port GigE Switch		@tab @code{$**250.00} @tab @code{$***500.00}
@item @code{1} @tab 56 position DSX-1		@tab @code{$**899.00} @tab @code{$***899.00}
@item @code{9} @tab T400P-SS7 Cards		@tab @code{$**625.00} @tab @code{$*5,625.00}
@item @code{1} @tab System console		@tab @code{$1,500.00} @tab @code{$*1,500.00}
@item @code{-} @tab PDU and cabling		@tab @code{$**800.00} @tab @code{$***800.00}
@item @code{}  @tab =========================== @tab @code{}          @tab @code{==========}
@item @code{}  @tab TOTAL			@tab @code{}	      @tab @code{$35,074.00}
@end multitable

@node Complete System Manifest
@subsection Complete System Manifest and Cost Estimate
@cindex Complete System Manifest
@cindex Complete System Cost Estimate

Estimated costs are from manufacturer retail prices and does not include any hardware
commissioning costs, applicable taxes, nor shipping.  Software and software commissioning costs are
not included.

@multitable @columnfractions .05 .40 .15 .15 .25
@item @code{8} @tab Dell PowerEdge 2850 Servers	@tab @code{$5,562.00} @tab @code{$44,496.00}
@item @code{1} @tab 48U rack mount enclosure	@tab @code{$1,500.00} @tab @code{$*1,500.00}
@item @code{3} @tab 8-port GigE Switch		@tab @code{$**250.00} @tab @code{$***750.00}
@item @code{1} @tab 56 position DSX-1		@tab @code{$**899.00} @tab @code{$***899.00}
@item @code{10} @tab T400P-SS7 Cards		@tab @code{$**599.00} @tab @code{$*5,990.00}
@item @code{1} @tab System console		@tab @code{$1,500.00} @tab @code{$*1,500.00}
@item @code{-} @tab PDU and cabling		@tab @code{$1,000.00} @tab @code{$*1,000.00}
@item @code{}  @tab =========================== @tab @code{}          @tab @code{==========}
@item @code{}  @tab TOTAL			@tab @code{}	      @tab @code{$56,135.00}
@end multitable

@node List of Figures
@unnumbered List of Figures
@listoffloats Figure

@node List of Tables
@unnumbered List of Tables
@listoffloats Table

@node Index
@unnumbered Index
@printindex cp

@page
@shortcontents
@page
@contents
@bye

